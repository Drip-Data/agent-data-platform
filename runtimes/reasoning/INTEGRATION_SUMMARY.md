# Gemini DeepResearch é›†æˆå®ŒæˆæŠ¥å‘Š

## ğŸ¯ é›†æˆç›®æ ‡

å°† `Gemini_DeepResearch@Tool_Use_Train\gemini-fullstack-langgraph-quickstart` ä½œä¸ºå·¥å…·é›†æˆåˆ°ç°æœ‰çš„ `runtimes/reasoning` ä¸­ï¼Œå¢å¼º reasoning runtime çš„ç ”ç©¶èƒ½åŠ›ã€‚

## âœ… å®ŒæˆçŠ¶æ€

### æ¶æ„å®ç° âœ…

```
runtimes/reasoning/              # ğŸ”§å¢å¼ºç‰ˆ reasoning runtime
â”œâ”€â”€ runtime.py                  # âœ… ä¸»è¿è¡Œæ—¶ï¼ˆå·²æ›´æ–°é›†æˆæ·±åº¦ç ”ç©¶ï¼‰
â”œâ”€â”€ tools/                      # âœ… å·¥å…·é›†åˆ
â”‚   â”œâ”€â”€ __init__.py            # âœ… å·²æ›´æ–°å¯¼å‡º
â”‚   â”œâ”€â”€ python_executor_tool.py # âœ… ä¿ç•™ä»£ç æ‰§è¡Œ
â”‚   â””â”€â”€ deep_research_tool.py   # âœ… æ–°å¢æ·±åº¦ç ”ç©¶å·¥å…·
â”œâ”€â”€ deep_research/              # âœ… æ–°å¢å®Œæ•´æ¨¡å—
â”‚   â”œâ”€â”€ __init__.py            # âœ… æ¨¡å—å¯¼å‡ºå’Œåˆå§‹åŒ–
â”‚   â”œâ”€â”€ graph.py               # âœ… LangGraphå®ç°
â”‚   â”œâ”€â”€ state.py               # âœ… çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ nodes.py               # âœ… èŠ‚ç‚¹å®ç°
â”‚   â”œâ”€â”€ utils.py               # âœ… å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ prompts.py             # âœ… æç¤ºè¯ç®¡ç†
â”‚   â”œâ”€â”€ config.py              # âœ… é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ examples.py            # âœ… ä½¿ç”¨ç¤ºä¾‹
â”‚   â””â”€â”€ README.md              # âœ… å®Œæ•´æ–‡æ¡£
â”œâ”€â”€ requirements.txt            # âœ… å·²æ›´æ–°ä¾èµ–
â””â”€â”€ INTEGRATION_SUMMARY.md      # âœ… æœ¬æŠ¥å‘Š
```

### åŠŸèƒ½å˜åŒ– âœ…

- **âœ… ä¿ç•™**: reasoning runtime çš„ LLMæ¨ç† + python_executor èƒ½åŠ›
- **âœ… ç§»é™¤**: browser_tool æµè§ˆå™¨è°ƒç”¨åŠŸèƒ½ï¼ˆå·²åˆ é™¤æ–‡ä»¶ï¼‰
- **âœ… æ–°å¢**: deep_research_tool æ›¿ä»£æµè§ˆå™¨åŠŸèƒ½ï¼Œæä¾›æ™ºèƒ½æœç´¢ç ”ç©¶èƒ½åŠ›

## ğŸš€ æ–°å¢åŠŸèƒ½ç‰¹æ€§

### 1. Deep Research Tool âœ…
- **æ™ºèƒ½æŸ¥è¯¢ç”Ÿæˆ**: ä»ç”¨æˆ·é—®é¢˜è‡ªåŠ¨ç”Ÿæˆå¤šè§’åº¦æœç´¢æŸ¥è¯¢
- **å¹¶è¡Œç½‘ç»œæœç´¢**: ä½¿ç”¨ Google Search API è¿›è¡Œæ·±åº¦ç½‘ç»œæœç´¢
- **åæ€å¼è¯„ä¼°**: æ™ºèƒ½è¯„ä¼°ä¿¡æ¯å……åˆ†æ€§ï¼Œè¯†åˆ«çŸ¥è¯†ç¼ºå£
- **è¿­ä»£ä¼˜åŒ–**: æ ¹æ®åæ€ç»“æœç”Ÿæˆåç»­æŸ¥è¯¢ï¼ŒæŒç»­å®Œå–„ç ”ç©¶
- **ç»¼åˆæŠ¥å‘Š**: ç”Ÿæˆç»“æ„åŒ–çš„æœ€ç»ˆç ”ç©¶æŠ¥å‘Š

### 2. LangGraph å·¥ä½œæµ âœ…
- **çŠ¶æ€ç®¡ç†**: å®Œæ•´çš„ç ”ç©¶çŠ¶æ€è·Ÿè¸ª
- **èŠ‚ç‚¹å®ç°**: 
  - `generate_query`: æŸ¥è¯¢ç”ŸæˆèŠ‚ç‚¹
  - `web_research`: ç½‘ç»œæœç´¢èŠ‚ç‚¹  
  - `reflection`: åæ€è¯„ä¼°èŠ‚ç‚¹
  - `finalize_answer`: æœ€ç»ˆç­”æ¡ˆç”ŸæˆèŠ‚ç‚¹
- **è·¯ç”±é€»è¾‘**: æ™ºèƒ½å†³ç­–ç»§ç»­ç ”ç©¶æˆ–ç”Ÿæˆç­”æ¡ˆ

### 3. é…ç½®ç®¡ç† âœ…
- **å¤šç§é…ç½®æ¨¡æ¿**: development, production, high_quality, fast
- **ç¯å¢ƒå˜é‡æ”¯æŒ**: çµæ´»çš„é…ç½®ç®¡ç†
- **å‚æ•°éªŒè¯**: ç¡®ä¿é…ç½®æœ‰æ•ˆæ€§

### 4. é”™è¯¯å¤„ç† âœ…
- **å®Œå–„çš„å¼‚å¸¸å¤„ç†**: è¦†ç›– API é”™è¯¯ã€ç½‘ç»œé”™è¯¯ã€é…ç½®é”™è¯¯
- **ä¼˜é›…é™çº§**: é”™è¯¯æƒ…å†µä¸‹çš„å›é€€æœºåˆ¶
- **è¯¦ç»†æ—¥å¿—**: è°ƒè¯•å’Œç›‘æ§æ”¯æŒ

## ğŸ”§ æŠ€æœ¯å®ç°ç»†èŠ‚

### æ ¸å¿ƒç»„ä»¶

1. **DeepResearchTool** (`tools/deep_research_tool.py`)
   - ä¸»è¦å·¥å…·æ¥å£ï¼Œä¾› reasoning runtime è°ƒç”¨
   - æ”¯æŒå¼‚æ­¥å’ŒåŒæ­¥æ‰§è¡Œ
   - å®Œæ•´çš„é”™è¯¯å¤„ç†å’Œç»“æœå¤„ç†

2. **DeepResearchGraph** (`deep_research/graph.py`)
   - LangGraph å®ç°ï¼Œç®¡ç†ç ”ç©¶å·¥ä½œæµ
   - æ”¯æŒé…ç½®åŒ–çš„ç ”ç©¶å‚æ•°
   - å¼‚æ­¥æ‰§è¡Œæ”¯æŒ

3. **ç ”ç©¶èŠ‚ç‚¹** (`deep_research/nodes.py`)
   - å®ç°å…·ä½“çš„ç ”ç©¶æ­¥éª¤
   - ä½¿ç”¨ Gemini API è¿›è¡Œ LLM è°ƒç”¨
   - ç»“æ„åŒ–è¾“å‡ºå’Œå¼•ç”¨ç®¡ç†

4. **çŠ¶æ€ç®¡ç†** (`deep_research/state.py`)
   - TypedDict å®šä¹‰ç ”ç©¶çŠ¶æ€
   - æ”¯æŒçŠ¶æ€ç´¯ç§¯å’Œä¼ é€’
   - é…ç½®ç±»å°è£…

### ä¾èµ–æ›´æ–° âœ…

ç§»é™¤äº†æµè§ˆå™¨ç›¸å…³ä¾èµ–ï¼Œæ–°å¢ï¼š
```
# LangChain ç”Ÿæ€
langchain>=0.1.0
langchain-google-genai>=0.1.0
langgraph>=0.1.0
langchain-core>=0.1.0

# Google AI SDK
google-genai>=0.1.0

# ç»“æ„åŒ–è¾“å‡º
pydantic>=2.0.0

# å…¶ä»–å·¥å…·
python-dotenv>=1.0.0
typing-extensions>=4.0.0
```

## ğŸ‰ å¢å¼ºåçš„ Reasoning Runtime èƒ½åŠ›

ç°åœ¨ reasoning runtime åŒæ—¶å…·å¤‡äº†ï¼š

### 1. âœ… **ä»£ç æ‰§è¡Œèƒ½åŠ›** (python_executor)
- Python ä»£ç æ‰§è¡Œ
- æ•°æ®åˆ†æå’Œå¯è§†åŒ–
- æ•°å­¦è®¡ç®—å’Œç§‘å­¦è®¡ç®—

### 2. âœ… **æ·±åº¦ç ”ç©¶èƒ½åŠ›** (deep_research æ›¿ä»£ browser)
- æ™ºèƒ½ç½‘ç»œæœç´¢
- å¤šè½®ç ”ç©¶è¿­ä»£
- ä¿¡æ¯ç»¼åˆåˆ†æ
- å¼•ç”¨æºç®¡ç†

### 3. âœ… **æ™ºèƒ½æ¨ç†èƒ½åŠ›** (LLM)
- è‡ªç„¶è¯­è¨€ç†è§£
- é€»è¾‘æ¨ç†
- ä»»åŠ¡è§„åˆ’å’Œæ‰§è¡Œ

## ğŸ”„ é›†æˆè¿‡ç¨‹

### åŸå§‹ä»£ç æ¥æº
ä» `Tool_Use_Train/gemini-fullstack-langgraph-quickstart/backend/src/agent/` æå–æ ¸å¿ƒç»„ä»¶ï¼š
- `graph.py` â†’ `deep_research/graph.py` (é‡æ„)
- `state.py` â†’ `deep_research/state.py` (é‡æ„)
- `tools_and_schemas.py` â†’ `deep_research/nodes.py` (é‡æ„åˆ°èŠ‚ç‚¹ä¸­)
- `prompts.py` â†’ `deep_research/prompts.py` (é‡æ„)
- `utils.py` â†’ `deep_research/utils.py` (é‡æ„)

### é‡æ„å’Œå¢å¼º
- æ¨¡å—åŒ–è®¾è®¡ï¼Œæ›´å¥½çš„ä»£ç ç»„ç»‡
- å®Œå–„çš„é”™è¯¯å¤„ç†
- ä¸°å¯Œçš„é…ç½®é€‰é¡¹
- è¯¦ç»†çš„æ–‡æ¡£å’Œç¤ºä¾‹
- ç±»å‹æ³¨è§£å’ŒéªŒè¯

## ğŸ“š ä½¿ç”¨ç¤ºä¾‹

### åœ¨ Runtime ä¸­è°ƒç”¨

```python
# åœ¨ runtime.py ä¸­çš„å®ç°
if action == 'deep_research_execute' and tool_name == 'deep_research':
    query = params.get('query', '')
    research_config = params.get('config', {})
    res = await deep_research_tool.execute(query, research_config)
    tool_success = 'final_answer' in res
    observation = json.dumps(res)
```

### ç›´æ¥è°ƒç”¨å·¥å…·

```python
from tools.deep_research_tool import deep_research_tool

result = await deep_research_tool.execute(
    query="äººå·¥æ™ºèƒ½çš„æœ€æ–°å‘å±•è¶‹åŠ¿",
    config={
        "initial_search_query_count": 3,
        "max_research_loops": 2
    }
)

print(result["final_answer"])
```

### ä½¿ç”¨å›¾æ¥å£

```python
from deep_research import quick_research

result = await quick_research("é‡å­è®¡ç®—çš„å•†ä¸šåŒ–å‰æ™¯")
print(result["final_answer"])
```

## ğŸ§ª æµ‹è¯•å’ŒéªŒè¯

### ç¤ºä¾‹æ–‡ä»¶
- `deep_research/examples.py`: åŒ…å«å®Œæ•´çš„ä½¿ç”¨ç¤ºä¾‹
- æ”¯æŒå¤šç§åœºæ™¯æµ‹è¯•
- é”™è¯¯å¤„ç†éªŒè¯
- æ€§èƒ½åŸºå‡†æµ‹è¯•

### è¿è¡Œæµ‹è¯•
```bash
cd runtimes/reasoning
python -m deep_research.examples
```

## ğŸ”’ ç¯å¢ƒè¦æ±‚

### å¿…éœ€ç¯å¢ƒå˜é‡
```bash
GEMINI_API_KEY=your_gemini_api_key
```

### å¯é€‰ç¯å¢ƒå˜é‡
```bash
GEMINI_API_URL=custom_api_url
DEBUG=false
LOG_LEVEL=INFO
REASONING_MODEL=gemini-2.0-flash-exp
INITIAL_SEARCH_QUERY_COUNT=3
MAX_RESEARCH_LOOPS=3
```

## ğŸ¯ å…¼å®¹æ€§

### ä¸ç°æœ‰ä»£ç å…¼å®¹ âœ…
- ä¿æŒäº†åŸæœ‰çš„ `runtime.py` æ¥å£
- ä¿ç•™äº† `python_executor_tool` åŠŸèƒ½
- æ–°å¢åŠŸèƒ½ä¸å½±å“ç°æœ‰å·¥ä½œæµ

### API å…¼å®¹æ€§ âœ…
- æ”¯æŒåŸæœ‰çš„å·¥å…·è°ƒç”¨æ ¼å¼
- æ–°å¢çš„æ·±åº¦ç ”ç©¶åŠŸèƒ½é€šè¿‡æ ‡å‡†å·¥å…·æ¥å£æš´éœ²
- é”™è¯¯å¤„ç†æ ¼å¼ä¿æŒä¸€è‡´

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### å·²å®ç°çš„ä¼˜åŒ–
- **å¹¶è¡Œæœç´¢**: å¤šä¸ªæŸ¥è¯¢åŒæ—¶æ‰§è¡Œ
- **æ™ºèƒ½ç¼“å­˜**: é¿å…é‡å¤ API è°ƒç”¨
- **ç»“æœå»é‡**: è‡ªåŠ¨å»é™¤é‡å¤å†…å®¹
- **èµ„æºç®¡ç†**: åˆç†æ§åˆ¶è¯·æ±‚é¢‘ç‡

### é…ç½®ä¼˜åŒ–
- æä¾›ä¸åŒåœºæ™¯çš„é…ç½®æ¨¡æ¿
- æ”¯æŒåŠ¨æ€è°ƒæ•´ç ”ç©¶æ·±åº¦
- è¶…æ—¶å’Œé‡è¯•æœºåˆ¶

## ğŸš¨ æ³¨æ„äº‹é¡¹

### API é™åˆ¶
- éœ€è¦æœ‰æ•ˆçš„ Gemini API Key
- æ³¨æ„ API è°ƒç”¨é¢‘ç‡é™åˆ¶
- åˆç†è®¾ç½®è¶…æ—¶æ—¶é—´

### èµ„æºæ¶ˆè€—
- æ·±åº¦ç ”ç©¶ä¼šè¿›è¡Œå¤šæ¬¡ API è°ƒç”¨
- å»ºè®®æ ¹æ®å®é™…éœ€æ±‚è°ƒæ•´å¾ªç¯æ¬¡æ•°
- ç›‘æ§ token ä½¿ç”¨é‡

## ğŸŠ æ€»ç»“

âœ… **é›†æˆå®Œæˆ**: Gemini DeepResearch å·²æˆåŠŸé›†æˆåˆ° Reasoning Runtime

âœ… **åŠŸèƒ½å¢å¼º**: æ–°å¢æ™ºèƒ½æ·±åº¦ç ”ç©¶èƒ½åŠ›ï¼Œæ›¿ä»£äº†åŸæœ‰çš„æµè§ˆå™¨åŠŸèƒ½

âœ… **æ¶æ„ä¼˜åŒ–**: æ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºç»´æŠ¤å’Œæ‰©å±•

âœ… **æ–‡æ¡£å®Œå–„**: æä¾›äº†å®Œæ•´çš„æ–‡æ¡£ã€ç¤ºä¾‹å’Œé…ç½®è¯´æ˜

ç°åœ¨ Reasoning Runtime å…·å¤‡äº†æ›´å¼ºå¤§çš„ä¿¡æ¯è·å–å’Œåˆ†æèƒ½åŠ›ï¼Œèƒ½å¤Ÿæ‰§è¡Œå¤æ‚çš„ç ”ç©¶ä»»åŠ¡ï¼Œä¸ºç”¨æˆ·æä¾›é«˜è´¨é‡çš„ç ”ç©¶æŠ¥å‘Šå’Œåˆ†æç»“æœã€‚

---

**é›†æˆæ—¥æœŸ**: 2025-06-04  
**é›†æˆç‰ˆæœ¬**: v1.0.0  
**é›†æˆçŠ¶æ€**: âœ… å®Œæˆ