# ===================================================================
# ğŸ”§ Agent Data Platform - ç»Ÿä¸€å·¥å…·å®šä¹‰é…ç½®æ–‡ä»¶
# ===================================================================
# 
# ğŸ“‹ ä½œç”¨ï¼šè§£å†³ç³»ç»Ÿä¸­å·¥å…·IDæ˜ å°„ä¸ä¸€è‡´çš„æ ¸å¿ƒé—®é¢˜
# ğŸ¯ ç›®æ ‡ï¼šå»ºç«‹å”¯ä¸€æƒå¨çš„å·¥å…·IDå’ŒåŠ¨ä½œæ˜ å°„æ ‡å‡†
# âš ï¸  é‡è¦ï¼šæ‰€æœ‰ç³»ç»Ÿç»„ä»¶å¿…é¡»ä»¥æ­¤é…ç½®ä¸ºå‡†ï¼Œé¿å…è¯¯å¯¼LLM
#
# æ›´æ–°æ—¶é—´: 2025-06-25
# ç‰ˆæœ¬: v1.0.0 - åˆå§‹ç»Ÿä¸€ç‰ˆæœ¬
# ===================================================================

# ğŸŒŸ æ ¸å¿ƒåŸåˆ™ï¼šæ ‡å‡†å·¥å…·IDå®šä¹‰
# - ä½¿ç”¨ç®€æ´ã€è¯­ä¹‰æ˜ç¡®çš„ID
# - é¿å…å†—ä½™çš„å‰ç¼€åç¼€ï¼ˆå¦‚-mcp-serverï¼‰
# - ä¿æŒä¸service.jsoné…ç½®æ–‡ä»¶ä¸€è‡´
standard_tool_ids:
  # ä»£ç æ‰§è¡Œå·¥å…·
  code_execution: "microsandbox"
  
  # ç½‘é¡µæµè§ˆå·¥å…·  
  web_browsing: "browser_use"
  
  # æ·±åº¦æœç´¢å·¥å…·
  research: "deepsearch"
  
  # æ–‡ä»¶æœç´¢å·¥å…·
  file_search: "mcp-search-tool"

# ğŸ”„ å…¼å®¹æ€§æ˜ å°„ï¼šæ—§IDåˆ°æ–°IDçš„è½¬æ¢
# ç”¨äºå‘åå…¼å®¹å’Œç³»ç»Ÿè¿ç§»è¿‡ç¨‹ä¸­çš„IDè½¬æ¢
legacy_id_mapping:
  # Microsandboxå·¥å…·çš„å„ç§å˜ä½“
  "microsandbox-mcp-server": "microsandbox"
  "microsandbox_server": "microsandbox"
  "micro-sandbox": "microsandbox"
  
  # Browser Useå·¥å…·çš„å„ç§å˜ä½“
  "browser-use-mcp-server": "browser_use"
  "browser_use_server": "browser_use"
  "browser-use": "browser_use"
  "browseruse": "browser_use"
  
  # DeepSearchå·¥å…·çš„å„ç§å˜ä½“
  "mcp-deepsearch": "deepsearch"
  "deepsearch_server": "deepsearch"
  "deep-search": "deepsearch"
  "deep_search": "deepsearch"
  
  # Search Toolä¿æŒåŸæ ·
  "search-tool": "mcp-search-tool"
  "search_tool": "mcp-search-tool"

# ğŸ“Š å·¥å…·å®Œæ•´å®šä¹‰ï¼šæ¯ä¸ªå·¥å…·çš„è¯¦ç»†é…ç½®
tools:
  
  # ====== 1. MICROSANDBOX - ä»£ç æ‰§è¡Œå·¥å…· ======
  microsandbox:
    id: "microsandbox"
    name: "MicroSandboxå®‰å…¨ä»£ç æ‰§è¡Œå™¨"
    description: "åœ¨éš”ç¦»ç¯å¢ƒä¸­å®‰å…¨æ‰§è¡ŒPythonä»£ç ï¼Œæ”¯æŒåŒ…ç®¡ç†å’Œä¼šè¯æ§åˆ¶"
    service_port: 8090
    service_path: "mcp_servers/microsandbox_server"
    
    # æ”¯æŒçš„æ‰€æœ‰åŠ¨ä½œ
    actions:
      microsandbox_execute:
        description: "åœ¨éš”ç¦»ç¯å¢ƒä¸­æ‰§è¡ŒPythonä»£ç "
        parameters:
          code:
            type: "string"
            required: true
            description: "è¦æ‰§è¡Œçš„Pythonä»£ç "
          session_id:
            type: "string" 
            required: false
            description: "ä¼šè¯IDï¼Œç”¨äºä»£ç çŠ¶æ€ä¿æŒ"
          timeout:
            type: "integer"
            required: false
            default: 30
            description: "æ‰§è¡Œè¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰"
            
      microsandbox_install_package:
        description: "åœ¨æ²™ç›’ç¯å¢ƒä¸­å®‰è£…PythonåŒ…"
        parameters:
          package_name:
            type: "string"
            required: true
            description: "è¦å®‰è£…çš„åŒ…å"
          version:
            type: "string"
            required: false
            description: "æŒ‡å®šåŒ…ç‰ˆæœ¬"
          session_id:
            type: "string"
            required: false
            description: "ç›®æ ‡ä¼šè¯ID"
            
      microsandbox_list_sessions:
        description: "åˆ—å‡ºæ‰€æœ‰æ´»è·ƒçš„æ‰§è¡Œä¼šè¯"
        parameters: {}
        
      microsandbox_close_session:
        description: "å…³é—­æŒ‡å®šçš„æ‰§è¡Œä¼šè¯"
        parameters:
          session_id:
            type: "string"
            required: true
            description: "è¦å…³é—­çš„ä¼šè¯ID"
            
      microsandbox_cleanup_expired:
        description: "æ¸…ç†è¿‡æœŸçš„ä¼šè¯å’Œèµ„æº"
        parameters:
          max_age:
            type: "integer"
            required: false
            default: 3600
            description: "ä¼šè¯æœ€å¤§å­˜æ´»æ—¶é—´ï¼ˆç§’ï¼‰"
            
      microsandbox_get_performance_stats:
        description: "è·å–æ²™ç›’ç¯å¢ƒæ€§èƒ½ç»Ÿè®¡"
        parameters: {}
        
      microsandbox_get_health_status:
        description: "è·å–æ²™ç›’ç¯å¢ƒå¥åº·çŠ¶æ€"
        parameters: {}

  # ====== 2. BROWSER_USE - ç½‘é¡µæµè§ˆå·¥å…· ======
  browser_use:
    id: "browser_use"
    name: "æ™ºèƒ½æµè§ˆå™¨æ“ä½œå·¥å…·"
    description: "AIé©±åŠ¨çš„æµè§ˆå™¨è‡ªåŠ¨åŒ–å·¥å…·ï¼Œæ”¯æŒç½‘é¡µå¯¼èˆªã€äº¤äº’å’Œå†…å®¹æå–"
    service_port: 8084
    service_path: "mcp_servers/browser_use_server"
    
    # æ”¯æŒçš„æ‰€æœ‰åŠ¨ä½œï¼ˆåŸºäºå®é™…å®ç°çš„25ä¸ªåŠ¨ä½œï¼‰
    actions:
      # æ ¸å¿ƒAIä»»åŠ¡æ‰§è¡Œ
      browser_use_execute_task:
        description: "AIé©±åŠ¨çš„å¤åˆä»»åŠ¡æ‰§è¡Œ"
        parameters:
          task:
            type: "string"
            required: true
            description: "è¦æ‰§è¡Œçš„ä»»åŠ¡æè¿°"
          url:
            type: "string"
            required: false
            description: "èµ·å§‹URL"
            
      # åŸºç¡€å¯¼èˆª
      browser_navigate:
        description: "å¯¼èˆªåˆ°æŒ‡å®šURL"
        parameters:
          url:
            type: "string"
            required: true
            description: "ç›®æ ‡URLåœ°å€"
            
      browser_go_back:
        description: "è¿”å›ä¸Šä¸€é¡µ"
        parameters: {}
        
      # æœç´¢åŠŸèƒ½
      browser_search_google:
        description: "æ‰§è¡ŒGoogleæœç´¢"
        parameters:
          query:
            type: "string"
            required: true
            description: "æœç´¢å…³é”®è¯"
            
      # å…ƒç´ äº¤äº’
      browser_click_element:
        description: "ç‚¹å‡»é¡µé¢å…ƒç´ "
        parameters:
          element_id:
            type: "string"
            required: true
            description: "å…ƒç´ IDæˆ–é€‰æ‹©å™¨"
            
      browser_input_text:
        description: "åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥æ–‡æœ¬"
        parameters:
          element_id:
            type: "string"
            required: true
            description: "è¾“å…¥æ¡†å…ƒç´ ID"
          text:
            type: "string"
            required: true
            description: "è¦è¾“å…¥çš„æ–‡æœ¬"
            
      browser_send_keys:
        description: "å‘é€å¿«æ·é”®"
        parameters:
          keys:
            type: "string"
            required: true
            description: "å¿«æ·é”®ç»„åˆ"
            
      # æ»šåŠ¨æ“ä½œ
      browser_scroll_down:
        description: "å‘ä¸‹æ»šåŠ¨é¡µé¢"
        parameters:
          pixels:
            type: "integer"
            required: false
            default: 500
            description: "æ»šåŠ¨åƒç´ æ•°"
            
      browser_scroll_up:
        description: "å‘ä¸Šæ»šåŠ¨é¡µé¢"
        parameters:
          pixels:
            type: "integer"
            required: false
            default: 500
            description: "æ»šåŠ¨åƒç´ æ•°"
            
      browser_scroll_to_text:
        description: "æ»šåŠ¨åˆ°åŒ…å«æŒ‡å®šæ–‡æœ¬çš„ä½ç½®"
        parameters:
          text:
            type: "string"
            required: true
            description: "ç›®æ ‡æ–‡æœ¬"
            
      # æ ‡ç­¾ç®¡ç†
      browser_switch_tab:
        description: "åˆ‡æ¢åˆ°æŒ‡å®šæ ‡ç­¾é¡µ"
        parameters:
          tab_index:
            type: "integer"
            required: true
            description: "æ ‡ç­¾é¡µç´¢å¼•"
            
      browser_open_tab:
        description: "æ‰“å¼€æ–°æ ‡ç­¾é¡µ"
        parameters:
          url:
            type: "string"
            required: false
            description: "æ–°æ ‡ç­¾é¡µURL"
            
      browser_close_tab:
        description: "å…³é—­å½“å‰æ ‡ç­¾é¡µ"
        parameters: {}
        
      # å†…å®¹æå–
      browser_extract_content:
        description: "æå–é¡µé¢å†…å®¹"
        parameters:
          selector:
            type: "string"
            required: false
            description: "CSSé€‰æ‹©å™¨ï¼Œæå–ç‰¹å®šå†…å®¹"
            
      browser_get_ax_tree:
        description: "è·å–é¡µé¢å¯è®¿é—®æ€§æ ‘ç»“æ„"
        parameters: {}
        
      # ä¸‹æ‹‰èœå•æ“ä½œ
      browser_get_dropdown_options:
        description: "è·å–ä¸‹æ‹‰èœå•é€‰é¡¹"
        parameters:
          element_id:
            type: "string"
            required: true
            description: "ä¸‹æ‹‰èœå•å…ƒç´ ID"
            
      browser_select_dropdown_option:
        description: "é€‰æ‹©ä¸‹æ‹‰èœå•é€‰é¡¹"
        parameters:
          element_id:
            type: "string"
            required: true
            description: "ä¸‹æ‹‰èœå•å…ƒç´ ID"
          option_value:
            type: "string"
            required: true
            description: "é€‰é¡¹å€¼"
            
      # æ‹–æ‹½æ“ä½œ
      browser_drag_drop:
        description: "æ‰§è¡Œæ‹–æ‹½æ“ä½œ"
        parameters:
          source_element:
            type: "string"
            required: true
            description: "æºå…ƒç´ ID"
          target_element:
            type: "string"
            required: true
            description: "ç›®æ ‡å…ƒç´ ID"
            
      # æ–‡ä»¶æ“ä½œ
      browser_save_pdf:
        description: "ä¿å­˜å½“å‰é¡µé¢ä¸ºPDF"
        parameters:
          filename:
            type: "string"
            required: false
            description: "PDFæ–‡ä»¶å"
            
      browser_screenshot:
        description: "æˆªå–å½“å‰é¡µé¢"
        parameters:
          filename:
            type: "string"
            required: false
            description: "æˆªå›¾æ–‡ä»¶å"
            
      # ç­‰å¾…å’Œå®Œæˆ
      browser_wait:
        description: "ç­‰å¾…æŒ‡å®šæ—¶é—´"
        parameters:
          seconds:
            type: "integer"
            required: true
            description: "ç­‰å¾…ç§’æ•°"
            
      browser_done:
        description: "æ ‡è®°ä»»åŠ¡å®Œæˆ"
        parameters: {}
        
      # é¡µé¢ä¿¡æ¯
      browser_get_page_info:
        description: "è·å–å½“å‰é¡µé¢ä¿¡æ¯"
        parameters: {}
        
      browser_get_current_url:
        description: "è·å–å½“å‰é¡µé¢URL"
        parameters: {}
        
      browser_close_session:
        description: "å…³é—­æµè§ˆå™¨ä¼šè¯"
        parameters: {}

  # ====== 3. DEEPSEARCH - æ·±åº¦æœç´¢å·¥å…· ======
  deepsearch:
    id: "deepsearch"
    name: "ç½‘ç»œä¿¡æ¯ç ”ç©¶å·¥å…·"
    description: "AIé©±åŠ¨çš„æ·±åº¦ç½‘ç»œç ”ç©¶å·¥å…·ï¼Œæ”¯æŒå¤šå±‚æ¬¡ä¿¡æ¯æŒ–æ˜å’Œåˆ†æ"
    service_port: 8086
    service_path: "mcp_servers/deepsearch_server"
    
    # æ”¯æŒçš„æ‰€æœ‰åŠ¨ä½œ
    actions:
      research:
        description: "ä¸“ä¸šçº§æ·±åº¦ç ”ç©¶ï¼Œæ”¯æŒå¤šè½®è¿­ä»£æŒ–æ˜"
        parameters:
          question:
            type: "string"
            required: true
            description: "ç ”ç©¶é—®é¢˜æˆ–ä¸»é¢˜"
          initial_queries:
            type: "array"
            required: false
            description: "åˆå§‹æœç´¢æŸ¥è¯¢åˆ—è¡¨"
          max_loops:
            type: "integer"
            required: false
            default: 3
            description: "æœ€å¤§ç ”ç©¶è½®æ¬¡"
          reasoning_model:
            type: "string"
            required: false
            default: "gemini-1.5-pro"
            description: "æ¨ç†æ¨¡å‹åç§°"
            
      quick_research:
        description: "å¿«é€Ÿç ”ç©¶ï¼Œé€‚ç”¨äºç®€å•æŸ¥è¯¢"
        parameters:
          question:
            type: "string"
            required: true
            description: "ç ”ç©¶é—®é¢˜"
            
      comprehensive_research:
        description: "å…¨é¢æ·±å…¥ç ”ç©¶ï¼Œé€‚ç”¨äºå¤æ‚ä¸»é¢˜"
        parameters:
          question:
            type: "string"
            required: true
            description: "ç ”ç©¶é—®é¢˜"
          topic_focus:
            type: "string"
            required: false
            description: "ç ”ç©¶é‡ç‚¹é¢†åŸŸ"

  # ====== 4. MCP-SEARCH-TOOL - æ–‡ä»¶æœç´¢å·¥å…· ======
  mcp-search-tool:
    id: "mcp-search-tool"
    name: "å·¥å…·ç®¡ç†å’Œé¡¹ç›®æ–‡ä»¶æœç´¢å™¨"
    description: "é¡¹ç›®æ–‡ä»¶å†…å®¹æœç´¢å’Œå·¥å…·éœ€æ±‚åˆ†æå™¨"
    service_port: 8080
    service_path: "mcp_servers/search_tool_server"
    
    # æ”¯æŒçš„æ‰€æœ‰åŠ¨ä½œ
    actions:
      search_file_content:
        description: "åœ¨é¡¹ç›®æ–‡ä»¶ä¸­æœç´¢æŒ‡å®šå†…å®¹"
        parameters:
          file_path:
            type: "string"
            required: true
            description: "ç›®æ ‡æ–‡ä»¶è·¯å¾„"
          regex_pattern:
            type: "string"
            required: true
            description: "æœç´¢çš„æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼"
            
      list_code_definitions:
        description: "åˆ—å‡ºä»£ç ä¸­çš„å®šä¹‰ï¼ˆç±»ã€å‡½æ•°ç­‰ï¼‰"
        parameters:
          file_path:
            type: "string"
            required: false
            description: "ç‰¹å®šæ–‡ä»¶è·¯å¾„"
          directory_path:
            type: "string"
            required: false
            description: "ç›®å½•è·¯å¾„"
            
      analyze_tool_needs:
        description: "åˆ†æä»»åŠ¡éœ€è¦çš„å·¥å…·"
        parameters:
          task_description:
            type: "string"
            required: true
            description: "ä»»åŠ¡æè¿°"
            
      search_and_install_tools:
        description: "æœç´¢å¹¶å®‰è£…éœ€è¦çš„å·¥å…·"
        parameters:
          task_description:
            type: "string"
            required: true
            description: "ä»»åŠ¡æè¿°"
          reason:
            type: "string"
            required: false
            description: "å®‰è£…åŸå› "

# ğŸ¯ LLMå·¥å…·å±•ç¤ºé…ç½®ï¼šå½±å“AIå¦‚ä½•ç†è§£å’Œä½¿ç”¨å·¥å…·
llm_tool_presentation:
  # æ¨èç»™LLMçš„å·¥å…·å±•ç¤ºé¡ºåºï¼ˆæŒ‰ä½¿ç”¨é¢‘ç‡ï¼‰
  display_order:
    - "microsandbox"      # ä»£ç æ‰§è¡Œæœ€å¸¸ç”¨
    - "deepsearch"        # ç ”ç©¶åŠŸèƒ½é‡è¦
    - "browser_use"       # ç½‘é¡µæ“ä½œåŠŸèƒ½å¼ºå¤§
    - "mcp-search-tool"   # æ–‡ä»¶æœç´¢è¾…åŠ©
    
  # æ¯ä¸ªå·¥å…·çš„ç®€åŒ–å±•ç¤ºåç§°ï¼ˆæ˜¾ç¤ºç»™LLMï¼‰
  display_names:
    microsandbox: "ä»£ç æ‰§è¡Œå™¨"
    deepsearch: "æ·±åº¦æœç´¢"
    browser_use: "æ™ºèƒ½æµè§ˆå™¨"
    mcp-search-tool: "æ–‡ä»¶æœç´¢å™¨"
    
  # æ¨èçš„é»˜è®¤åŠ¨ä½œï¼ˆå½“å·¥å…·åŠŸèƒ½ä¸æ˜ç¡®æ—¶ï¼‰
  default_actions:
    microsandbox: "microsandbox_execute"
    deepsearch: "research" 
    browser_use: "browser_use_execute_task"
    mcp-search-tool: "search_file_content"

# ğŸ”§ ç³»ç»Ÿé…ç½®ï¼šæŠ€æœ¯å®ç°ç›¸å…³çš„é…ç½®
system_configuration:
  # MCPæœåŠ¡å™¨é…ç½®
  mcp_servers:
    base_port: 8080
    port_range: 10
    health_check_interval: 30
    
  # å·¥å…·éªŒè¯é…ç½®
  validation:
    strict_mode: true          # ä¸¥æ ¼æ¨¡å¼ï¼šä¸å…è®¸æœªå®šä¹‰çš„å·¥å…·/åŠ¨ä½œ
    auto_correct: true         # è‡ªåŠ¨çº æ­£å¸¸è§çš„IDå˜ä½“
    case_sensitive: false      # å·¥å…·IDå¤§å°å†™ä¸æ•æ„Ÿ
    
  # é”™è¯¯å¤„ç†é…ç½®
  error_handling:
    max_retries: 3            # å·¥å…·è°ƒç”¨æœ€å¤§é‡è¯•æ¬¡æ•°
    fallback_enabled: true    # å¯ç”¨é™çº§æœºåˆ¶
    log_all_mappings: false   # æ˜¯å¦è®°å½•æ‰€æœ‰IDæ˜ å°„æ“ä½œ

# ğŸ“ ç‰ˆæœ¬ä¿¡æ¯å’Œå˜æ›´è®°å½•
metadata:
  version: "1.0.0"
  created_date: "2025-06-25"
  last_modified: "2025-06-25"
  created_by: "Agent Data Platform Team"
  
  changelog:
    "1.0.0":
      date: "2025-06-25"
      changes:
        - "åˆå§‹ç‰ˆæœ¬ï¼šç»Ÿä¸€æ‰€æœ‰å·¥å…·IDå’ŒåŠ¨ä½œå®šä¹‰"
        - "å»ºç«‹æƒå¨çš„å·¥å…·æ˜ å°„æ ‡å‡†"
        - "å®Œæ•´å®šä¹‰æ‰€æœ‰25ä¸ªbrowser_useåŠ¨ä½œ"
        - "æ ‡å‡†åŒ–å‚æ•°åç§°å’Œç±»å‹å®šä¹‰"
        - "æ·»åŠ å‘åå…¼å®¹çš„æ—§IDæ˜ å°„æ”¯æŒ"

# ===================================================================
# ğŸš¨ é‡è¦æé†’
# ===================================================================
# 
# 1. æœ¬é…ç½®æ–‡ä»¶æ˜¯ç³»ç»Ÿä¸­å·¥å…·å®šä¹‰çš„å”¯ä¸€æƒå¨æ¥æº
# 2. æ‰€æœ‰ä»£ç ä¿®æ”¹å¿…é¡»ä¸æ­¤é…ç½®ä¿æŒä¸€è‡´
# 3. ä¿®æ”¹æœ¬æ–‡ä»¶åéœ€è¦é‡å¯ç›¸å…³æœåŠ¡
# 4. æ–°å¢å·¥å…·æˆ–åŠ¨ä½œå¿…é¡»å…ˆåœ¨æ­¤å¤„å®šä¹‰
# 5. ä¸è¦åœ¨ä»£ç ä¸­ç¡¬ç¼–ç å·¥å…·IDï¼Œç»Ÿä¸€ä½¿ç”¨æ­¤é…ç½®
#
# ===================================================================