# Agent Data Platform

![Python Version](https://img.shields.io/badge/python-3.10%2B-blue)
![License](https://img.shields.io/badge/license-MIT-green)
![Status](https://img.shields.io/badge/status-active-brightgreen)

ä¸€ä¸ªç”Ÿäº§çº§çš„ã€å¯æ‰©å±•çš„ã€æ”¯æŒåŠ¨æ€å·¥å…·æ‰©å±•çš„ AI Agent æ•°æ®æ„å»ºå¹³å°ã€‚

## ğŸ“– æ¦‚è¿°

Agent Data Platform æ˜¯ä¸€ä¸ªä¸“ä¸ºè¿è¡Œ AI Agent å¹¶æ•è·å…¶å®Œæ•´å†³ç­–è½¨è¿¹è€Œè®¾è®¡çš„é›†æˆç³»ç»Ÿã€‚å¹³å°çš„**æ ¸å¿ƒåˆ›æ–°**åœ¨äº AI Agent èƒ½å¤Ÿ**ä¸»åŠ¨å‘ç°å·¥å…·ç¼ºå£ã€æœç´¢å¹¶å®‰è£…æ–°çš„MCPæœåŠ¡å™¨å·¥å…·**ï¼Œå®ç°çœŸæ­£çš„è‡ªæˆ‘è¿›åŒ–èƒ½åŠ›ã€‚

ç³»ç»Ÿæ”¯æŒå¤šç§å¼ºå¤§çš„å·¥å…·ï¼ˆä»£ç æ‰§è¡Œã€æµè§ˆå™¨å¯¼èˆªã€åŠ¨æ€å·¥å…·å®‰è£…ï¼‰ï¼Œé€šè¿‡å¥å£®çš„ã€åŸºäºæ¶ˆæ¯é˜Ÿåˆ—çš„æ¶æ„æ¥å¤„ç†å¤æ‚çš„ã€å¤šæ­¥éª¤çš„ä»»åŠ¡ï¼Œå¹¶è‡ªåŠ¨ç”Ÿæˆé«˜è´¨é‡çš„ Agent è½¨è¿¹æ•°æ®ç”¨äºè¯„ä¼°ã€å¾®è°ƒå’Œç ”ç©¶ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ§  æ™ºèƒ½å†³ç­–ç³»ç»Ÿ
- **åŒç‰ˆæœ¬Runtime**: åŸºç¡€ç‰ˆæœ¬ + å¢å¼ºç‰ˆæœ¬ï¼ˆæ”¯æŒåŠ¨æ€MCPå·¥å…·ç®¡ç†ï¼‰
- **LLMé©±åŠ¨å†³ç­–**: ä½¿ç”¨å…ˆè¿›çš„LLMï¼ˆGeminiï¼‰è¿›è¡Œä»»åŠ¡åˆ†è§£ã€å·¥å…·é€‰æ‹©å’Œæ™ºèƒ½æ¨ç†
- **ä¸Šä¸‹æ–‡æ„ŸçŸ¥**: ç»´æŠ¤æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œä»å¤±è´¥ä¸­å­¦ä¹ ï¼Œé¿å…é‡å¤é”™è¯¯

### ğŸ”§ åŠ¨æ€å·¥å…·ç®¡ç†
- **MCPå·¥å…·æ³¨å†Œæœºåˆ¶**: æ™ºèƒ½å·¥å…·ç¼ºå£æ£€æµ‹å’Œè‡ªåŠ¨å·¥å…·å®‰è£…
- **å¤šæºæœç´¢**: æ”¯æŒGitHubã€Docker Hubç­‰å¤šä¸ªå·¥å…·æºçš„å¹¶è¡Œæœç´¢
- **å®‰å…¨è¯„ä¼°**: ä¿¡ä»»ä½œè€…éªŒè¯ã€å®‰å…¨æ€§è¯„åˆ†ã€Dockeréš”ç¦»è¿è¡Œ

### ğŸ—ï¸ å¯æ‰©å±•æ¶æ„
- **æ¨¡å—åŒ–è®¾è®¡**: Coreã€Runtimesã€ToolScoreä¸‰å¤§æ ¸å¿ƒæ¨¡å—
- **MCPåè®®æ”¯æŒ**: æ ‡å‡†åŒ–çš„å·¥å…·æ¥å£å’Œè·¨è¿›ç¨‹é€šä¿¡
- **Dockerå®¹å™¨åŒ–**: åŸºäºDocker Composeçš„æœåŠ¡ç¼–æ’

### ğŸ“Š å®Œæ•´çš„å­¦ä¹ é—­ç¯
- **è½¨è¿¹è¿½è¸ª**: è¯¦ç»†è®°å½•æ¯æ­¥æ‰§è¡Œçš„æ€è€ƒé“¾ã€å·¥å…·è°ƒç”¨å’Œç»“æœ
- **ä»»åŠ¡åˆæˆ**: ä»è½¨è¿¹ä¸­æå–ä»»åŠ¡æœ¬è´¨ï¼Œç”Ÿæˆæ–°çš„è®­ç»ƒæ•°æ®
- **ç›‘æ§æŒ‡æ ‡**: Prometheus + Grafana ç›‘æ§ä½“ç³»

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

ç¡®ä¿æ‚¨çš„æœºå™¨ä¸Šå®‰è£…äº† [Docker](https://www.docker.com/products/docker-desktop/) å’Œ [Docker Compose](https://docs.docker.com/compose/install/)ã€‚

### 2. å…‹éš†ä¸é…ç½®

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/Drip-Data/agent-data-platform.git
cd agent-data-platform

# ä»æ¨¡æ¿åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œå¡«å…¥æ‚¨çš„APIå¯†é’¥ï¼š

```env
# LLM APIé…ç½®
GEMINI_API_KEY=your_gemini_api_key
GEMINI_API_URL=your_gemini_api_url

# åŠŸèƒ½å¼€å…³
DISABLE_CACHE=false
SAVE_INDIVIDUAL_TRAJECTORIES=false
```

### 3. å¯åŠ¨æœåŠ¡

```bash
# æ„å»ºå¹¶å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d --build

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
docker-compose ps
```

## ğŸ§ª æµ‹è¯•æ‚¨çš„Agent

### åŸºç¡€æ¨ç†ä»»åŠ¡

```bash
curl -X POST http://localhost:8000/api/v1/tasks -H "Content-Type: application/json" -d '{
  "task_type": "reasoning",
  "input": "ä½¿ç”¨Pythonè®¡ç®—ç¬¬10ä¸ªæ–æ³¢é‚£å¥‘æ•°å¹¶è¿”å›ç»“æœ",
  "priority": "high"
}'
```

### æµè§ˆå™¨å¯¼èˆªä»»åŠ¡

```bash
curl -X POST http://localhost:8000/api/v1/tasks -H "Content-Type: application/json" -d '{
  "task_type": "reasoning", 
  "input": "è®¿é—® https://datapresso.ai/ï¼Œå¹¶å‘Šè¯‰æˆ‘ç½‘ç«™çš„æ ‡é¢˜",
  "priority": "high"
}'
```

### å¤æ‚å¤šæ­¥éª¤ä»»åŠ¡

```bash
curl -X POST http://localhost:8000/api/v1/tasks -H "Content-Type: application/json" -d '{
  "task_type": "reasoning",
  "input": "æœç´¢æ–°åŠ å¡å›½ç«‹å¤§å­¦IORAç ”ç©¶æ‰€çš„æ•™æˆä¿¡æ¯ï¼Œå¹¶ç”Ÿæˆç ”ç©¶é¢†åŸŸåˆ†æå›¾è¡¨",
  "priority": "high"
}'
```

### æŸ¥çœ‹æ‰§è¡Œç»“æœ

```bash
# æŸ¥çœ‹æœ€æ–°è½¨è¿¹
docker exec -it agent-data-platform-reasoning-runtime-1 cat /app/output/trajectories/trajectories_collection.json | jq .[-1]

# æŸ¥çœ‹æœåŠ¡æ—¥å¿—
docker-compose logs -f reasoning-runtime
```

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### æ ¸å¿ƒæ¨¡å—

1. **Coreæ¨¡å—** - ä»»åŠ¡åˆ†å‘å’ŒåŸºç¡€æœåŠ¡
   - `TaskDispatcher` - ä»»åŠ¡åˆ†å‘å™¨
   - `LLMClient` - LLMé›†æˆå®¢æˆ·ç«¯
   - `Interfaces` - æ ¸å¿ƒæ¥å£å®šä¹‰

2. **Runtimesæ¨¡å—** - æ™ºèƒ½æ‰§è¡Œå¼•æ“
   - `ReasoningRuntime` - åŸºç¡€æ¨ç†è¿è¡Œæ—¶
   - `EnhancedReasoningRuntime` - å¢å¼ºç‰ˆæœ¬ï¼ˆæ”¯æŒåŠ¨æ€å·¥å…·ç®¡ç†ï¼‰
   - `SandboxRuntime` - ä»£ç æ‰§è¡Œæ²™ç›’
   - `WebRuntime` - Webå¯¼èˆªè¿è¡Œæ—¶

3. **ToolScoreæ¨¡å—** - å·¥å…·ç®¡ç†å¹³å°
   - `UnifiedToolLibrary` - ç»Ÿä¸€å·¥å…·åº“
   - `DynamicMCPManager` - åŠ¨æ€MCPç®¡ç†å™¨
   - `MCPSearchTool` - MCPæœç´¢å·¥å…·
   - `ToolGapDetector` - å·¥å…·ç¼ºå£æ£€æµ‹å™¨

### Runtimeç‰ˆæœ¬å¯¹æ¯”

| ç‰¹æ€§ | åŸºç¡€ç‰ˆæœ¬ | å¢å¼ºç‰ˆæœ¬ |
|------|----------|----------|
| å†…ç½®å·¥å…· | âœ… browser, python_executor | âœ… å…¨éƒ¨åŸºç¡€å·¥å…· |
| åŠ¨æ€å·¥å…·å®‰è£… | âŒ | âœ… MCPæœåŠ¡å™¨æœç´¢å®‰è£… |
| æ™ºèƒ½å·¥å…·æ£€æµ‹ | âŒ | âœ… LLMé©±åŠ¨çš„å·¥å…·ç¼ºå£åˆ†æ |
| ä¸Šä¸‹æ–‡æ„ŸçŸ¥ | âŒ | âœ… æ‰§è¡Œä¸Šä¸‹æ–‡ç®¡ç† |
| é€‚ç”¨åœºæ™¯ | ç®€å•æ¨ç†ä»»åŠ¡ | å¤æ‚è‡ªé€‚åº”ä»»åŠ¡ |

## ğŸ“ é¡¹ç›®ç»“æ„

```
agent-data-platform/
â”œâ”€â”€ core/                    # æ ¸å¿ƒè°ƒåº¦é€»è¾‘
â”‚   â”œâ”€â”€ interfaces.py        # æ¥å£å®šä¹‰
â”‚   â”œâ”€â”€ dispatcher.py        # ä»»åŠ¡åˆ†å‘å™¨
â”‚   â”œâ”€â”€ llm_client.py        # LLMå®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ toolscore/          # å·¥å…·ç®¡ç†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ unified_tool_library.py
â”‚   â”‚   â”œâ”€â”€ dynamic_mcp_manager.py
â”‚   â”‚   â”œâ”€â”€ mcp_search_tool.py
â”‚   â”‚   â””â”€â”€ tool_gap_detector.py
â”‚   â””â”€â”€ synthesiscore/      # ä»»åŠ¡åˆæˆæ¨¡å—
â”œâ”€â”€ runtimes/               # è¿è¡Œæ—¶å®ç°
â”‚   â”œâ”€â”€ reasoning/          # æ¨ç†è¿è¡Œæ—¶
â”‚   â”‚   â”œâ”€â”€ runtime.py      # åŸºç¡€ç‰ˆæœ¬
â”‚   â”‚   â”œâ”€â”€ enhanced_runtime.py  # å¢å¼ºç‰ˆæœ¬
â”‚   â”‚   â””â”€â”€ tools/          # å†…ç½®å·¥å…·
â”‚   â”œâ”€â”€ sandbox/            # ä»£ç æ‰§è¡Œæ²™ç›’
â”‚   â””â”€â”€ web_navigator/      # Webå¯¼èˆªè¿è¡Œæ—¶
â”œâ”€â”€ mcp_servers/            # MCPå·¥å…·æœåŠ¡å™¨
â”‚   â”œâ”€â”€ browser_navigator_server/
â”‚   â””â”€â”€ python_executor_server/
â”œâ”€â”€ docs/                   # æ–‡æ¡£ç›®å½•
â”œâ”€â”€ scripts/                # éƒ¨ç½²è„šæœ¬
â”œâ”€â”€ config/                 # é…ç½®æ–‡ä»¶
â”œâ”€â”€ docker-compose.yml      # æœåŠ¡ç¼–æ’
â””â”€â”€ tasks.jsonl            # ä»»åŠ¡å®šä¹‰æ–‡ä»¶
```

## ğŸ“š è¯¦ç»†æ–‡æ¡£

- **[å®Œæ•´ä»»åŠ¡æ‰§è¡Œæµç¨‹è¯¦è§£](MCPä»»åŠ¡æ‰§è¡Œæµç¨‹è¯¦è§£.md)** - æ·±å…¥äº†è§£Agentæ‰§è¡Œæœºåˆ¶
- **[MCPä¸»åŠ¨é€‰æ‹©æœºåˆ¶ä½¿ç”¨æŒ‡å—](MCP_ä¸»åŠ¨é€‰æ‹©æœºåˆ¶ä½¿ç”¨æŒ‡å—.md)** - åŠ¨æ€å·¥å…·ç®¡ç†æŒ‡å—
- **[ç³»ç»Ÿæ¶æ„åˆ†æ](ARCHITECTURE_ANALYSIS.md)** - æ¶æ„è®¾è®¡å’Œå®ç°çŠ¶å†µ
- **[å¿«é€Ÿå¼€å§‹æŒ‡å—](QUICK_START.md)** - è¯¦ç»†çš„éƒ¨ç½²å’Œä½¿ç”¨è¯´æ˜
- **[å¤–éƒ¨APIé…ç½®æŒ‡å—](docs/å¤–éƒ¨APIé…ç½®æŒ‡å—.md)** - LLM APIé…ç½®è¯´æ˜
- **[å¤–éƒ¨ MCP æœåŠ¡å™¨æ³¨å†Œæ¥å£](docs/å¤–éƒ¨MCPæœåŠ¡å™¨æ³¨å†Œæ¥å£.md)** - ç»Ÿä¸€æ³¨å†Œå¤–éƒ¨æœåŠ¡å™¨çš„æ–¹æ³•
- **[å®˜æ–¹ MCP æœåŠ¡å™¨åˆ—è¡¨](docs/å¤–éƒ¨MCPæœåŠ¡å™¨æ³¨å†Œæ¥å£.md#è·å–å®˜æ–¹æœåŠ¡å™¨åˆ—è¡¨)** - è‡ªåŠ¨è·å–å®˜æ–¹å¯ç”¨æœåŠ¡å™¨

## ğŸ”§ é«˜çº§é…ç½®

### ç¯å¢ƒå˜é‡

```bash
# Redisé…ç½®
REDIS_URL=redis://redis:6379
REDIS_MAX_CONNECTIONS=20

# ä»»åŠ¡é…ç½®
MAX_CONCURRENT_TASKS=10
TASK_TIMEOUT=300

# ç›‘æ§é…ç½®
METRICS_PORT=8001
HEALTH_CHECK_INTERVAL=30
```

### æ€§èƒ½è°ƒä¼˜

```bash
# æ‰©å±•è¿è¡Œæ—¶å®ä¾‹
docker-compose up -d --scale reasoning-runtime=4

# è°ƒæ•´å¹¶å‘é™åˆ¶
export MAX_CONCURRENT_TASKS=20

# ä¼˜åŒ–å†…å­˜ä½¿ç”¨
export MEMORY_LIMIT=4g
```

## ğŸ“Š ç›‘æ§å’Œè¿ç»´

### ç›‘æ§é¢æ¿

- **Prometheus**: http://localhost:9090
- **Grafana**: http://localhost:3000 (admin/admin)
- **Runtime Metrics**: http://localhost:8001/metrics

### å…³é”®æŒ‡æ ‡

- ä»»åŠ¡å®Œæˆç‡å’Œå¤±è´¥ç‡
- å¹³å‡å¤„ç†æ—¶é—´
- é˜Ÿåˆ—å¤§å°
- ç¼“å­˜å‘½ä¸­ç‡
- åŠ¨æ€å·¥å…·å®‰è£…ç»Ÿè®¡

## ğŸ” æ•…éšœæ’æŸ¥

### å¸¸è§é—®é¢˜

1. **æœåŠ¡å¯åŠ¨å¤±è´¥** - æ£€æŸ¥ç«¯å£å ç”¨å’Œç£ç›˜ç©ºé—´
2. **ä»»åŠ¡æ‰§è¡Œå¡ä½** - æ£€æŸ¥Redisé˜Ÿåˆ—å’Œé‡å¯è¿è¡Œæ—¶
3. **å·¥å…·è°ƒç”¨å¤±è´¥** - éªŒè¯å·¥å…·æœåŠ¡å™¨çŠ¶æ€
4. **å†…å­˜æº¢å‡º** - é™åˆ¶å†…å­˜ä½¿ç”¨æˆ–å¢åŠ èµ„æº

### è°ƒè¯•å‘½ä»¤

```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹å®æ—¶æ—¥å¿—
docker-compose logs -f reasoning-runtime

# æ£€æŸ¥é˜Ÿåˆ—çŠ¶æ€
docker exec $(docker-compose ps -q redis) redis-cli xlen tasks:reasoning

# å¥åº·æ£€æŸ¥
curl http://localhost:8001/health
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ LICENSE æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

- **MCPåè®®** - æ ‡å‡†åŒ–çš„å·¥å…·é€šä¿¡åè®®
- **Docker** - å®¹å™¨åŒ–éƒ¨ç½²æ”¯æŒ
- **Redis** - é«˜æ€§èƒ½ä»»åŠ¡é˜Ÿåˆ—
- **Playwright** - ç°ä»£Webè‡ªåŠ¨åŒ–
- **Prometheus & Grafana** - ç›‘æ§å’Œå¯è§†åŒ–

---

**ä¸€å¥è¯æ€»ç»“**ï¼šAgent Data Platformæ˜¯ä¸€ä¸ªæ”¯æŒåŠ¨æ€å·¥å…·æ‰©å±•çš„æ™ºèƒ½Agentç³»ç»Ÿï¼ŒAIå¯ä»¥æ ¹æ®ä»»åŠ¡éœ€æ±‚ä¸»åŠ¨æœç´¢å®‰è£…æ–°å·¥å…·ï¼Œå®ç°çœŸæ­£çš„è‡ªæˆ‘è¿›åŒ–ï¼ğŸš€
