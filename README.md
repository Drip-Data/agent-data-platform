# Agent Data Platform

![Python Version](https://img.shields.io/badge/python-3.10%2B-blue)
![License](https://img.shields.io/badge/license-MIT-green)
![Status](https://img.shields.io/badge/status-active-brightgreen)

ä¸€ä¸ªç”Ÿäº§çº§çš„ã€å¯æ‰©å±•çš„ã€æ”¯æŒåŠ¨æ€å·¥å…·æ‰©å±•çš„ AI Agent æ•°æ®æ„å»ºå¹³å°ã€‚

## ğŸ“– æ¦‚è¿°

Agent Data Platform æ˜¯ä¸€ä¸ªä¸“ä¸ºè¿è¡Œ AI Agent å¹¶æ•è·å…¶å®Œæ•´å†³ç­–è½¨è¿¹è€Œè®¾è®¡çš„é›†æˆç³»ç»Ÿã€‚å¹³å°çš„**æ ¸å¿ƒåˆ›æ–°**åœ¨äº AI Agent èƒ½å¤Ÿ**ä¸»åŠ¨å‘ç°å·¥å…·ç¼ºå£ã€æœç´¢å¹¶å®‰è£…æ–°çš„MCPæœåŠ¡å™¨å·¥å…·**ï¼Œå®ç°çœŸæ­£çš„è‡ªæˆ‘è¿›åŒ–èƒ½åŠ›ã€‚

ç³»ç»Ÿæ”¯æŒå¤šç§å¼ºå¤§çš„å·¥å…·ï¼ˆä»£ç æ‰§è¡Œã€æµè§ˆå™¨å¯¼èˆªã€åŠ¨æ€å·¥å…·å®‰è£…ï¼‰ï¼Œé€šè¿‡å¥å£®çš„ã€åŸºäºè¿›ç¨‹çš„æ¶æ„æ¥å¤„ç†å¤æ‚çš„ã€å¤šæ­¥éª¤çš„ä»»åŠ¡ï¼Œå¹¶è‡ªåŠ¨ç”Ÿæˆé«˜è´¨é‡çš„ Agent è½¨è¿¹æ•°æ®ç”¨äºè¯„ä¼°ã€å¾®è°ƒå’Œç ”ç©¶ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ§  æ™ºèƒ½å†³ç­–ç³»ç»Ÿ
- **åŒç‰ˆæœ¬Runtime**: åŸºç¡€ç‰ˆæœ¬ + å¢å¼ºç‰ˆæœ¬ï¼ˆæ”¯æŒåŠ¨æ€MCPå·¥å…·ç®¡ç†ï¼‰
- **LLMé©±åŠ¨å†³ç­–**: ä½¿ç”¨å…ˆè¿›çš„LLMï¼ˆGeminiï¼‰è¿›è¡Œä»»åŠ¡åˆ†è§£ã€å·¥å…·é€‰æ‹©å’Œæ™ºèƒ½æ¨ç†
- **ä¸Šä¸‹æ–‡æ„ŸçŸ¥**: ç»´æŠ¤æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œä»å¤±è´¥ä¸­å­¦ä¹ ï¼Œé¿å…é‡å¤é”™è¯¯

### ğŸ”§ åŠ¨æ€å·¥å…·ç®¡ç†
- **MCPå·¥å…·æ³¨å†Œæœºåˆ¶**: æ™ºèƒ½å·¥å…·ç¼ºå£æ£€æµ‹å’Œè‡ªåŠ¨å·¥å…·å®‰è£…
- **å¤šæºæœç´¢**: æ”¯æŒGitHubç­‰å¤šä¸ªå·¥å…·æºçš„å¹¶è¡Œæœç´¢
- **å®‰å…¨è¯„ä¼°**: ä¿¡ä»»ä½œè€…éªŒè¯ã€å®‰å…¨æ€§è¯„åˆ†ã€è¿›ç¨‹éš”ç¦»è¿è¡Œ

### ğŸ—ï¸ å¯æ‰©å±•æ¶æ„
- **æ¨¡å—åŒ–è®¾è®¡**: Coreã€Runtimesã€ToolScoreä¸‰å¤§æ ¸å¿ƒæ¨¡å—
- **MCPåè®®æ”¯æŒ**: æ ‡å‡†åŒ–çš„å·¥å…·æ¥å£å’Œè·¨è¿›ç¨‹é€šä¿¡
- **è¿›ç¨‹ç®¡ç†**: åŸºäºProcessRunnerçš„è½»é‡çº§è¿›ç¨‹ç®¡ç†

### ğŸ“Š å®Œæ•´çš„å­¦ä¹ é—­ç¯
- **è½¨è¿¹è¿½è¸ª**: è¯¦ç»†è®°å½•æ¯æ­¥æ‰§è¡Œçš„æ€è€ƒé“¾ã€å·¥å…·è°ƒç”¨å’Œç»“æœ
- **ä»»åŠ¡åˆæˆ**: ä»è½¨è¿¹ä¸­æå–ä»»åŠ¡æœ¬è´¨ï¼Œç”Ÿæˆæ–°çš„è®­ç»ƒæ•°æ®
- **ç›‘æ§æŒ‡æ ‡**: Prometheus + Grafana ç›‘æ§ä½“ç³»

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

ç¡®ä¿æ‚¨çš„æœºå™¨ä¸Šå®‰è£…äº† Python 3.10+ å’Œ pipã€‚

### 2. å…‹éš†ä¸é…ç½®

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/Drip-Data/agent-data-platform.git
cd agent-data-platform

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv
source venv/bin/activate  # Linux/Mac
# æˆ– venv\Scripts\activate  # Windows

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# ä»æ¨¡æ¿åˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶
cp env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œå¡«å…¥æ‚¨çš„APIå¯†é’¥ï¼š

```env
# LLM APIé…ç½®
GEMINI_API_KEY=your_gemini_api_key
GEMINI_API_URL=your_gemini_api_url

# åŠŸèƒ½å¼€å…³
DISABLE_CACHE=false
SAVE_INDIVIDUAL_TRAJECTORIES=false
```

### 3. å¯åŠ¨æœåŠ¡

```bash
# å¯åŠ¨Redis (å¦‚æœéœ€è¦)
redis-server

# å¯åŠ¨ä¸»æœåŠ¡
python main.py
```

## ğŸ§ª æµ‹è¯•æ‚¨çš„Agent

### åŸºç¡€æ¨ç†ä»»åŠ¡

```bash
curl -X POST http://localhost:8080/api/v1/tasks -H "Content-Type: application/json" -d '{
  "task_type": "reasoning",
  "input": "ä½¿ç”¨Pythonè®¡ç®—ç¬¬10ä¸ªæ–æ³¢é‚£å¥‘æ•°å¹¶è¿”å›ç»“æœ",
  "priority": "high"
}'
```

### æµè§ˆå™¨å¯¼èˆªä»»åŠ¡

```bash
curl -X POST http://localhost:8080/api/v1/tasks -H "Content-Type: application/json" -d '{
  "task_type": "reasoning", 
  "input": "è®¿é—® https://datapresso.ai/ï¼Œå¹¶å‘Šè¯‰æˆ‘ç½‘ç«™çš„æ ‡é¢˜",
  "priority": "high"
}'
```

### å¤æ‚å¤šæ­¥éª¤ä»»åŠ¡

```bash
curl -X POST http://localhost:8080/api/v1/tasks -H "Content-Type: application/json" -d '{
  "task_type": "reasoning",
  "input": "æœç´¢æ–°åŠ å¡å›½ç«‹å¤§å­¦IORAç ”ç©¶æ‰€çš„æ•™æˆä¿¡æ¯ï¼Œå¹¶ç”Ÿæˆç ”ç©¶é¢†åŸŸåˆ†æå›¾è¡¨",
  "priority": "high"
}'
```

### æŸ¥çœ‹æ‰§è¡Œç»“æœ

```bash
# æŸ¥çœ‹æœ€æ–°è½¨è¿¹
cat output/trajectories/trajectories_collection.json | jq .[-1]

# æŸ¥çœ‹æœåŠ¡æ—¥å¿—
tail -f logs/toolscore.log
```

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### æ ¸å¿ƒæ¨¡å—

1. **Coreæ¨¡å—** - ä»»åŠ¡åˆ†å‘å’ŒåŸºç¡€æœåŠ¡
   - `TaskDispatcher` - ä»»åŠ¡åˆ†å‘å™¨
   - `LLMClient` - LLMé›†æˆå®¢æˆ·ç«¯
   - `Interfaces` - æ ¸å¿ƒæ¥å£å®šä¹‰

2. **Runtimesæ¨¡å—** - æ™ºèƒ½æ‰§è¡Œå¼•æ“
   - `ReasoningRuntime` - åŸºç¡€æ¨ç†è¿è¡Œæ—¶
   - `EnhancedReasoningRuntime` - å¢å¼ºç‰ˆæœ¬ï¼ˆæ”¯æŒåŠ¨æ€å·¥å…·ç®¡ç†ï¼‰
   - `SandboxRuntime` - ä»£ç æ‰§è¡Œæ²™ç›’
   - `WebRuntime` - Webå¯¼èˆªè¿è¡Œæ—¶

3. **ToolScoreæ¨¡å—** - å·¥å…·ç®¡ç†å¹³å°
   - `UnifiedToolLibrary` - ç»Ÿä¸€å·¥å…·åº“
   - `DynamicMCPManager` - åŠ¨æ€MCPç®¡ç†å™¨
   - `MCPSearchTool` - MCPæœç´¢å·¥å…·
   - `ToolGapDetector` - å·¥å…·ç¼ºå£æ£€æµ‹å™¨

### Runtimeç‰ˆæœ¬å¯¹æ¯”

| ç‰¹æ€§ | åŸºç¡€ç‰ˆæœ¬ | å¢å¼ºç‰ˆæœ¬ |
|------|----------|----------|
| å†…ç½®å·¥å…· | âœ… browser, python_executor | âœ… å…¨éƒ¨åŸºç¡€å·¥å…· |
| åŠ¨æ€å·¥å…·å®‰è£… | âŒ | âœ… MCPæœåŠ¡å™¨æœç´¢å®‰è£… |
| æ™ºèƒ½å·¥å…·æ£€æµ‹ | âŒ | âœ… LLMé©±åŠ¨çš„å·¥å…·ç¼ºå£åˆ†æ |
| ä¸Šä¸‹æ–‡æ„ŸçŸ¥ | âŒ | âœ… æ‰§è¡Œä¸Šä¸‹æ–‡ç®¡ç† |
| é€‚ç”¨åœºæ™¯ | ç®€å•æ¨ç†ä»»åŠ¡ | å¤æ‚è‡ªé€‚åº”ä»»åŠ¡ |

## ğŸ“ é¡¹ç›®ç»“æ„

```
agent-data-platform/
â”œâ”€â”€ core/                    # æ ¸å¿ƒè°ƒåº¦é€»è¾‘
â”‚   â”œâ”€â”€ interfaces.py        # æ¥å£å®šä¹‰
â”‚   â”œâ”€â”€ dispatcher.py        # ä»»åŠ¡åˆ†å‘å™¨
â”‚   â”œâ”€â”€ llm_client.py        # LLMå®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ toolscore/          # å·¥å…·ç®¡ç†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ unified_tool_library.py
â”‚   â”‚   â”œâ”€â”€ dynamic_mcp_manager.py
â”‚   â”‚   â”œâ”€â”€ mcp_search_tool.py
â”‚   â”‚   â”œâ”€â”€ runners/        # è¿›ç¨‹è¿è¡Œå™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ base.py
â”‚   â”‚   â”‚   â”œâ”€â”€ process_runner.py
â”‚   â”‚   â”‚   â””â”€â”€ docker_runner.py (å·²ç§»é™¤)
â”‚   â”‚   â””â”€â”€ tool_gap_detector.py
â”‚   â””â”€â”€ synthesiscore/      # ä»»åŠ¡åˆæˆæ¨¡å—
â”œâ”€â”€ runtimes/               # è¿è¡Œæ—¶å®ç°
â”‚   â”œâ”€â”€ reasoning/          # æ¨ç†è¿è¡Œæ—¶
â”‚   â”‚   â”œâ”€â”€ runtime.py      # åŸºç¡€ç‰ˆæœ¬
â”‚   â”‚   â”œâ”€â”€ enhanced_runtime.py  # å¢å¼ºç‰ˆæœ¬
â”‚   â”‚   â””â”€â”€ tools/          # å†…ç½®å·¥å…·
â”‚   â”œâ”€â”€ sandbox/            # ä»£ç æ‰§è¡Œæ²™ç›’
â”‚   â””â”€â”€ web_navigator/      # Webå¯¼èˆªè¿è¡Œæ—¶
â”œâ”€â”€ mcp_servers/            # MCPå·¥å…·æœåŠ¡å™¨
â”‚   â”œâ”€â”€ browser_navigator_server/
â”‚   â””â”€â”€ python_executor_server/
â”œâ”€â”€ docs/                   # æ–‡æ¡£ç›®å½•
â”œâ”€â”€ scripts/                # éƒ¨ç½²è„šæœ¬
â”œâ”€â”€ config/                 # é…ç½®æ–‡ä»¶
â”œâ”€â”€ requirements.txt        # Pythonä¾èµ–
â”œâ”€â”€ main.py                # ä¸»å¯åŠ¨æ–‡ä»¶
â””â”€â”€ tasks.jsonl            # ä»»åŠ¡å®šä¹‰æ–‡ä»¶
```

## ğŸ“š è¯¦ç»†æ–‡æ¡£

- **[å®Œæ•´ä»»åŠ¡æ‰§è¡Œæµç¨‹è¯¦è§£](MCPä»»åŠ¡æ‰§è¡Œæµç¨‹è¯¦è§£.md)** - æ·±å…¥äº†è§£Agentæ‰§è¡Œæœºåˆ¶
- **[MCPä¸»åŠ¨é€‰æ‹©æœºåˆ¶ä½¿ç”¨æŒ‡å—](MCP_ä¸»åŠ¨é€‰æ‹©æœºåˆ¶ä½¿ç”¨æŒ‡å—.md)** - åŠ¨æ€å·¥å…·ç®¡ç†æŒ‡å—
- **[ç³»ç»Ÿæ¶æ„åˆ†æ](ARCHITECTURE_ANALYSIS.md)** - æ¶æ„è®¾è®¡å’Œå®ç°çŠ¶å†µ
- **[å¿«é€Ÿå¼€å§‹æŒ‡å—](QUICK_START.md)** - è¯¦ç»†çš„éƒ¨ç½²å’Œä½¿ç”¨è¯´æ˜
- **[å¤–éƒ¨APIé…ç½®æŒ‡å—](docs/å¤–éƒ¨APIé…ç½®æŒ‡å—.md)** - LLM APIé…ç½®è¯´æ˜

## ğŸ”§ é«˜çº§é…ç½®

### ç¯å¢ƒå˜é‡

```bash
# Redisé…ç½®
REDIS_HOST=localhost
REDIS_PORT=6379

# è¿›ç¨‹é…ç½®
PROCESS_PORT_RANGE_START=8100
PROCESS_PORT_RANGE_END=8200
PROCESS_TIMEOUT=300

# ä»»åŠ¡é…ç½®
MAX_CONCURRENT_TASKS=10
TASK_TIMEOUT=300
```

### æ‰©å±•é…ç½®

```bash
# å¯ç”¨å¤šå®ä¾‹
python main.py --workers 4

# å¯ç”¨è°ƒè¯•æ¨¡å¼
python main.py --debug

# æŒ‡å®šé…ç½®æ–‡ä»¶
python main.py --config config/production.yaml
```

## ğŸ” ç›‘æ§å’Œè°ƒè¯•

### æ—¥å¿—æŸ¥çœ‹

```bash
# æŸ¥çœ‹å®æ—¶æ—¥å¿—
tail -f logs/toolscore.log

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
grep ERROR logs/toolscore.log

# æŸ¥çœ‹ç‰¹å®šç»„ä»¶æ—¥å¿—
grep "DynamicMCPManager" logs/toolscore.log
```

### å¥åº·æ£€æŸ¥

```bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
curl http://localhost:8080/health

# æ£€æŸ¥MCPæœåŠ¡å™¨çŠ¶æ€
curl http://localhost:8080/api/v1/mcp/servers

# æŸ¥çœ‹ç³»ç»Ÿç»Ÿè®¡
curl http://localhost:8080/api/v1/stats
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿ç¤¾åŒºè´¡çŒ®ï¼è¯·æŸ¥çœ‹ [CONTRIBUTING.md](CONTRIBUTING.md) äº†è§£å¦‚ä½•å‚ä¸é¡¹ç›®å¼€å‘ã€‚

### å¼€å‘ç¯å¢ƒè®¾ç½®

```bash
# å…‹éš†å¼€å‘åˆ†æ”¯
git clone -b develop https://github.com/Drip-Data/agent-data-platform.git

# å®‰è£…å¼€å‘ä¾èµ–
pip install -r requirements-dev.txt

# è¿è¡Œæµ‹è¯•
python -m pytest tests/

# ä»£ç æ ¼å¼åŒ–
black .
isort .
```

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

- **MCPåè®®** - æ„Ÿè°¢ Anthropic æä¾›çš„æ¨¡å‹ä¸Šä¸‹æ–‡åè®®
- **å¼€æºç¤¾åŒº** - æ„Ÿè°¢æ‰€æœ‰è´¡çŒ®è€…å’Œç»´æŠ¤è€…
- **Pythonç”Ÿæ€** - åŸºäºä¼˜ç§€çš„Pythonå·¥å…·é“¾æ„å»º

---

**Agent Data Platform** - è®©AI Agentæ›´æ™ºèƒ½ï¼Œè®©æ•°æ®æ„å»ºæ›´ç®€å• ğŸš€
