#!/usr/bin/env python3
"""
ä»»åŠ¡ç”Ÿæˆç›¸å…³çš„ Prompt æ¨¡æ¿
åŒ…å«åŸå­ä»»åŠ¡ç”Ÿæˆã€æ·±åº¦æ‰©å±•ã€å®½åº¦æ‰©å±•ç­‰ç›¸å…³æ¨¡æ¿
"""

from typing import Dict, Any
from .base import PromptTemplate, PromptModule, PromptType


class TaskGenerationPrompts(PromptModule):
    """ä»»åŠ¡ç”Ÿæˆ Prompt æ¨¡æ¿é›†åˆ"""
    
    def __init__(self):
        self._templates = self._initialize_templates()
    
    def _initialize_templates(self) -> Dict[str, PromptTemplate]:
        """åˆå§‹åŒ–æ‰€æœ‰ä»»åŠ¡ç”Ÿæˆæ¨¡æ¿"""
        templates = {}
        
        # æ·±åº¦ç»“è®ºæå–æ¨¡æ¿ï¼ˆå…³ç³»é©±åŠ¨ï¼‰
        templates["extract_conclusions"] = PromptTemplate(
            name="extract_conclusions",
            template="""ä½ æ˜¯ä¸€ä¸ªé«˜çº§çš„çŸ¥è¯†å·¥ç¨‹å¸ˆã€‚è¯·ä»ä»¥ä¸‹è½¨è¿¹æ•°æ®ä¸­è¿›è¡Œæ·±åº¦ç»“è®ºæå–ï¼Œé‡ç‚¹åˆ†æå®ä½“é—´çš„ç»“æ„åŒ–å…³ç³»ã€‚

è½¨è¿¹æ•°æ®ï¼š
{trajectory_data}

**æ ¸å¿ƒä»»åŠ¡ï¼šä¸ä»…æå–ç»“è®ºï¼Œæ›´è¦æ·±åº¦æŒ–æ˜ç»“è®ºä¸­å®ä½“é—´çš„ç»“æ„åŒ–å…³ç³»**

è¯·åˆ†æè½¨è¿¹ï¼Œæå–å‡ºå¯ä»¥ç”¨äºåˆ›é€ æ€§ä»»åŠ¡ç”Ÿæˆçš„å…³é”®ç»“è®ºå’Œå…³ç³»ã€‚æ¯ä¸ªç»“è®ºåº”è¯¥åŒ…å«ï¼š
1. ç»“è®ºå†…å®¹ï¼ˆå…·ä½“çš„çŸ¥è¯†ç‚¹æˆ–è§£å†³æ–¹æ¡ˆï¼‰
2. å…³é”®å®ä½“åˆ—è¡¨ï¼ˆå‚ä¸å…³ç³»çš„æ‰€æœ‰é‡è¦å®ä½“ï¼‰
3. ç»“æ„åŒ–å…³ç³»ï¼ˆå®ä½“é—´çš„æ·±å±‚é€»è¾‘è”ç³»ï¼‰
4. å…³ç³»ç±»å‹ï¼ˆæ ‡å‡†åŒ–çš„å…³ç³»åˆ†ç±»ï¼‰
5. åº”ç”¨åœºæ™¯å’Œéš¾åº¦ç­‰çº§

**é«˜è´¨é‡ç¤ºä¾‹ï¼š**
ğŸ“Œ ç¤ºä¾‹1ï¼š
- ç»“è®º: "BCAæ–¹æ³•çš„å‚æ•°æ¯”VeRAå°‘14å€"
- å®ä½“: ["BCAæ–¹æ³•", "VeRAæ–¹æ³•", "å‚æ•°é‡", "14å€"]
- å…³ç³»: "æ–¹æ³•A-å‚æ•°é‡-å¯¹æ¯”-æ–¹æ³•B-å€æ•°å…³ç³»"
- å…³ç³»ç±»å‹: "quantitative_comparison"

ğŸ“Œ ç¤ºä¾‹2ï¼š
- ç»“è®º: "è‹¹æœè‚¡ä»·ä¸º150ç¾å…ƒ"
- å®ä½“: ["è‹¹æœå…¬å¸", "è‚¡ä»·", "150ç¾å…ƒ", "å½“å‰æ—¶é—´"]
- å…³ç³»: "å…¬å¸-è´¢åŠ¡å±æ€§-æ•°å€¼-æ—¶é—´ç‚¹"
- å…³ç³»ç±»å‹: "financial_attribute"

ğŸ“Œ ç¤ºä¾‹3ï¼š
- ç»“è®º: "Transformeræ¶æ„ä½¿ç”¨è‡ªæ³¨æ„åŠ›æœºåˆ¶"
- å®ä½“: ["Transformer", "è‡ªæ³¨æ„åŠ›æœºåˆ¶", "æ¶æ„è®¾è®¡"]
- å…³ç³»: "æ¶æ„-æ ¸å¿ƒæŠ€æœ¯-åŠŸèƒ½å®ç°"
- å…³ç³»ç±»å‹: "functional_component"

**å…³ç³»ç±»å‹å‚è€ƒæ¸…å•ï¼š**
- quantitative_comparison: æ•°é‡å¯¹æ¯”ï¼ˆAæ¯”Bå¤š/å°‘Xå€ï¼‰
- financial_attribute: è´¢åŠ¡å±æ€§ï¼ˆå…¬å¸-è‚¡ä»·-æ•°å€¼ï¼‰
- functional_component: åŠŸèƒ½ç»„ä»¶ï¼ˆç³»ç»Ÿ-æ ¸å¿ƒæŠ€æœ¯-ä½œç”¨ï¼‰
- causal_relationship: å› æœå…³ç³»ï¼ˆåŸå› -ç»“æœ-æ¡ä»¶ï¼‰
- temporal_sequence: æ—¶é—´åºåˆ—ï¼ˆäº‹ä»¶A-å‘ç”Ÿåœ¨-äº‹ä»¶Bä¹‹å‰ï¼‰
- hierarchical_structure: å±‚æ¬¡ç»“æ„ï¼ˆçˆ¶çº§-åŒ…å«-å­çº§ï¼‰
- performance_metric: æ€§èƒ½æŒ‡æ ‡ï¼ˆæ–¹æ³•-æŒ‡æ ‡-æ•°å€¼ï¼‰
- technological_evolution: æŠ€æœ¯æ¼”è¿›ï¼ˆæ—§æŠ€æœ¯-æ”¹è¿›ä¸º-æ–°æŠ€æœ¯ï¼‰

è¦æ±‚ï¼š
- æå– {max_conclusions} ä¸ªæœ€æœ‰ä»·å€¼çš„ç»“è®º
- å…³ç³»æè¿°è¦ç²¾å‡†ï¼Œä½“ç°å®ä½“é—´çš„æ·±å±‚é€»è¾‘è”ç³»
- å®ä½“åˆ—è¡¨è¦å®Œæ•´ï¼ŒåŒ…å«æ‰€æœ‰å…³é”®å‚ä¸è€…
- ä¼˜å…ˆé€‰æ‹©å±•ç¤ºAgentæ ¸å¿ƒæ¨ç†èƒ½åŠ›çš„ç»“è®º
- ç¡®ä¿å…³ç³»ç±»å‹åˆ†ç±»å‡†ç¡®
- ç»“è®ºåº”è¯¥å…·æœ‰æ³›åŒ–æ½œåŠ›ï¼Œä¾¿äºå®ä½“æ›¿æ¢

è¯·ä»¥JSONæ ¼å¼è¿”å›ç»“æœï¼š
{{
    "conclusions": [
        {{
            "content": "ç»“è®ºå†…å®¹",
            "entities": ["å®ä½“1", "å®ä½“2", "å®ä½“3"],
            "relation": "å®ä½“é—´çš„å…³ç³»æè¿°",
            "relation_type": "å…³ç³»ç±»å‹",
            "scenario": "åº”ç”¨åœºæ™¯",
            "difficulty": "ç®€å•|ä¸­ç­‰|å›°éš¾",
            "required_tools": ["å·¥å…·1", "å·¥å…·2"],
            "generalization_potential": "æ³›åŒ–æ½œåŠ›æè¿°",
            "confidence": 0.95
        }}
    ]
}}""",
            description="ä»è½¨è¿¹æ•°æ®ä¸­æå–å…³é”®ç»“è®ºå’Œç»“æ„åŒ–å…³ç³»",
            prompt_type=PromptType.CONCLUSION_EXTRACTION,
            required_params=["trajectory_data"],
            optional_params={"max_conclusions": 5}
        )
        
        # å…³ç³»é©±åŠ¨çš„åŸå­ä»»åŠ¡ç”Ÿæˆæ¨¡æ¿
        templates["generate_atomic_tasks"] = PromptTemplate(
            name="generate_atomic_tasks",
            template="""ä½ æ˜¯ä¸€ä¸ªåˆ›é€ æ€§ä»»åŠ¡è®¾è®¡å¸ˆã€‚è¯·åŸºäºä»¥ä¸‹ç»“è®ºå’Œç»“æ„åŒ–å…³ç³»ï¼Œé€šè¿‡å…³ç³»é©±åŠ¨çš„åå‘æ¨ç†ç”Ÿæˆå…·æœ‰åˆ›é€ æ€§çš„åŸå­ä»»åŠ¡ã€‚

ç»“è®ºå’Œå…³ç³»ï¼š
{conclusion}

**ğŸ¯ æ ¸å¿ƒä½¿å‘½ï¼šä¸æ˜¯å¤è¿°ç»“è®ºï¼Œè€Œæ˜¯åŸºäºå…³ç³»åˆ›é€ æ–°é—®é¢˜**

**ğŸ§  å…³ç³»é©±åŠ¨çš„é—®é¢˜ç”Ÿæˆç­–ç•¥ï¼š**
1. **å…³ç³»æ¨¡å¼æå–**ï¼šä»ç»“è®ºä¸­è¯†åˆ«å‡ºå®ä½“é—´çš„å…³ç³»æ¨¡å¼
2. **å®ä½“æ³›åŒ–æ›¿æ¢**ï¼šå°†å…·ä½“å®ä½“æ›¿æ¢ä¸ºåŒç±»å‹çš„å…¶ä»–å®ä½“
3. **åå‘æ¨ç†è®¾è®¡**ï¼šåŸºäºå…³ç³»ï¼Œè®¾è®¡éœ€è¦æ¨ç†æ‰èƒ½å¾—åˆ°ç­”æ¡ˆçš„é—®é¢˜
4. **åˆ›é€ æ€§æ‰©å±•**ï¼šåœ¨ä¿æŒå…³ç³»ç»“æ„çš„å‰æä¸‹ï¼Œåˆ›é€ å…¨æ–°çš„é—®é¢˜æƒ…å¢ƒ

**ğŸ’¡ ç”Ÿæˆç¤ºä¾‹æ¼”ç¤ºï¼š**

ğŸ“Œ è¾“å…¥ç¤ºä¾‹1ï¼š
- ç»“è®º: "è‹¹æœè‚¡ä»·ä¸º150ç¾å…ƒ"
- å®ä½“: ["è‹¹æœå…¬å¸", "è‚¡ä»·", "150ç¾å…ƒ"]
- å…³ç³»: "å…¬å¸-è´¢åŠ¡å±æ€§-æ•°å€¼"
- å…³ç³»ç±»å‹: "financial_attribute"

ğŸ“Œ åŸå­æ€§è¾“å‡ºç¤ºä¾‹1ï¼š
- é—®é¢˜: "è¯·æœç´¢è°·æ­Œå…¬å¸å½“å‰çš„è‚¡ä»·ã€‚" âœ… å•ä¸€åŠ¨ä½œ
- å…³ç³»åº”ç”¨: "å…¬å¸-è´¢åŠ¡å±æ€§-æ•°å€¼"ï¼ˆå®ä½“æ›¿æ¢ï¼šè‹¹æœâ†’è°·æ­Œï¼‰
- åŸå­æ€§æ£€æŸ¥: å•ä¸€åŠ¨ä½œ"æœç´¢"ï¼Œæ— è¿æ¥è¯ âœ…
- åˆ›é€ æ€§: â˜…â˜…â˜…ï¼ˆéœ€è¦æœç´¢å·¥å…·ï¼Œå®æ—¶æŸ¥è¯¢ï¼‰

ğŸ“Œ è¾“å…¥ç¤ºä¾‹2ï¼š
- ç»“è®º: "BCAæ–¹æ³•çš„å‚æ•°æ¯”VeRAå°‘14å€"
- å®ä½“: ["BCAæ–¹æ³•", "VeRAæ–¹æ³•", "å‚æ•°é‡"]
- å…³ç³»: "æ–¹æ³•A-å‚æ•°é‡-å¯¹æ¯”-æ–¹æ³•B"
- å…³ç³»ç±»å‹: "quantitative_comparison"

ğŸ“Œ åŸå­æ€§è¾“å‡ºç¤ºä¾‹2ï¼š
- é—®é¢˜: "è¯·æŸ¥è¯¢LoRAæ–¹æ³•çš„æœ€æ–°å‚æ•°é‡ã€‚" âœ… å•ä¸€åŠ¨ä½œ
- å…³ç³»åº”ç”¨: "æ–¹æ³•A-å‚æ•°é‡-å¯¹æ¯”-æ–¹æ³•B"ï¼ˆå®ä½“æ›¿æ¢ï¼šBCA/VeRAâ†’LoRAï¼‰
- åŸå­æ€§æ£€æŸ¥: å•ä¸€åŠ¨ä½œ"æŸ¥è¯¢"ï¼Œæ— è¿æ¥è¯ âœ…
- åˆ›é€ æ€§: â˜…â˜…â˜…â˜…ï¼ˆéœ€è¦æ–‡çŒ®æœç´¢ï¼‰

ğŸ“Œ è¾“å…¥ç¤ºä¾‹3ï¼š
- ç»“è®º: "Transformerä½¿ç”¨è‡ªæ³¨æ„åŠ›æœºåˆ¶"
- å®ä½“: ["Transformer", "è‡ªæ³¨æ„åŠ›æœºåˆ¶"]
- å…³ç³»: "æ¶æ„-æ ¸å¿ƒæŠ€æœ¯"
- å…³ç³»ç±»å‹: "functional_component"

ğŸ“Œ åŸå­æ€§è¾“å‡ºç¤ºä¾‹3ï¼š
- é—®é¢˜: "è¯·è·å–ResNetæ¶æ„çš„æ ¸å¿ƒåˆ›æ–°æè¿°ã€‚" âœ… å•ä¸€åŠ¨ä½œ
- å…³ç³»åº”ç”¨: "æ¶æ„-æ ¸å¿ƒæŠ€æœ¯"ï¼ˆå®ä½“æ›¿æ¢ï¼šTransformerâ†’ResNetï¼‰
- åŸå­æ€§æ£€æŸ¥: å•ä¸€åŠ¨ä½œ"è·å–"ï¼Œæ— è¿æ¥è¯ âœ…
- åˆ›é€ æ€§: â˜…â˜…â˜…â˜…â˜…ï¼ˆéœ€è¦æŠ€æœ¯æ–‡æ¡£æœç´¢ï¼‰

**âŒ é”™è¯¯ç¤ºä¾‹ï¼ˆç»å¯¹ç¦æ­¢ï¼‰ï¼š**
- "è¯·æœç´¢å¹¶æ¯”è¾ƒè°·æ­Œå’Œè‹¹æœçš„è‚¡ä»·" âŒ ï¼ˆåŒ…å«"å¹¶ä¸”"ï¼‰
- "è¯·æŸ¥è¯¢LoRAæ–¹æ³•å‚æ•°é‡ï¼Œç„¶åè¿›è¡Œå¯¹æ¯”" âŒ ï¼ˆåŒ…å«"ç„¶å"ï¼‰
- "è¯·è·å–ResNetæè¿°ä»¥åŠå…¶ä¼˜åŠ¿åˆ†æ" âŒ ï¼ˆåŒ…å«"ä»¥åŠ"ï¼‰

**ğŸ¨ åˆ›é€ æ€§è¦æ±‚ç­‰çº§ï¼ˆ1-5æ˜Ÿï¼‰ï¼š**
- â˜…ï¼šè½»å¾®å˜åŒ–ï¼ˆç®€å•å®ä½“æ›¿æ¢ï¼‰
- â˜…â˜…ï¼šä¸­ç­‰å˜åŒ–ï¼ˆä¸åŒé¢†åŸŸå®ä½“æ›¿æ¢ï¼‰
- â˜…â˜…â˜…ï¼šæ˜¾è‘—åˆ›æ–°ï¼ˆéœ€è¦å¤šæ­¥æ¨ç†ï¼‰
- â˜…â˜…â˜…â˜…ï¼šé«˜åº¦åˆ›æ–°ï¼ˆè·¨åŸŸçŸ¥è¯†æ•´åˆï¼‰
- â˜…â˜…â˜…â˜…â˜…ï¼šå®Œå…¨åˆ›æ–°ï¼ˆå¤æ‚æ¨ç†é“¾æ¡ï¼‰

è¯·ç”Ÿæˆæœ€å¤š{max_tasks}ä¸ªåŸå­ä»»åŠ¡ï¼Œä»¥JSONæ ¼å¼è¿”å›ï¼š
{{
    "atomic_tasks": [
        {{
            "question": "ä»»åŠ¡é—®é¢˜æè¿°",
            "expected_answer": "é¢„æœŸç­”æ¡ˆç±»å‹æè¿°",
            "task_type": "tool_required",
            "domain": "ä»»åŠ¡é¢†åŸŸ",
            "difficulty": "ç®€å•|ä¸­ç­‰|å›°éš¾",
            "required_tools": ["å·¥å…·å1", "å·¥å…·å2"],
            "reasoning_steps": ["æ¨ç†æ­¥éª¤1", "æ¨ç†æ­¥éª¤2"],
            "relation_pattern": "åº”ç”¨çš„å…³ç³»æ¨¡å¼",
            "entity_generalization": "å®ä½“æ³›åŒ–è¯´æ˜",
            "creativity_level": "1-5",
            "creativity_explanation": "åˆ›é€ æ€§ä½“ç°è¯´æ˜",
            "reverse_reasoning": "åå‘æ¨ç†è¿‡ç¨‹æè¿°"
        }}
    ]
}}

**ğŸ”¥ åŸå­æ€§ç”Ÿæˆè¦æ±‚ï¼ˆä¸¥æ ¼æ‰§è¡Œï¼‰ï¼š**
1. **ç»å¯¹åŸå­æ€§**ï¼šæ¯ä¸ªä»»åŠ¡åªèƒ½åŒ…å«ONEä¸ªåŠ¨ä½œè¯ï¼Œç»å¯¹ç¦æ­¢"å¹¶ä¸”"ã€"ç„¶å"ã€"æ¥ç€"ã€"åŒæ—¶"ã€"ä»¥åŠ"ç­‰è¿æ¥è¯
2. **å•ä¸€åŠ¨ä½œéªŒè¯**ï¼šæ£€æŸ¥ä»»åŠ¡æè¿°ï¼Œå¿…é¡»åªåŒ…å«ä¸€ä¸ªæ˜ç¡®çš„åŠ¨ä½œï¼Œå¦‚ï¼š
   - âœ… æ­£ç¡®ï¼š"è¯·æœç´¢è°·æ­Œå…¬å¸å½“å‰çš„è‚¡ä»·"
   - âŒ é”™è¯¯ï¼š"è¯·æœç´¢å¹¶æ¯”è¾ƒè°·æ­Œå’Œè‹¹æœçš„è‚¡ä»·"
   - âŒ é”™è¯¯ï¼š"è¯·æŸ¥è¯¢å¹¶è®¡ç®—æœ€æ–°çš„æ•°æ®"
   - âŒ é”™è¯¯ï¼š"è¯·è·å–å’Œåˆ†æç›¸å…³ä¿¡æ¯"
3. **å¿…é¡»éœ€è¦å·¥å…·**ï¼šæ‰€æœ‰ä»»åŠ¡éƒ½å¿…é¡»æ ‡è®°ä¸ºtool_requiredï¼Œéœ€è¦Agenté€šè¿‡å·¥å…·ä½¿ç”¨æ‰èƒ½å›ç­”
4. **æ˜ç¡®å•ä¸€å·¥å…·è°ƒç”¨**ï¼šé—®é¢˜å¿…é¡»ä½¿ç”¨ä¸€ä¸ªæ˜ç¡®çš„åŠ¨ä½œè¯ï¼š"æœç´¢"ã€"æŸ¥è¯¢"ã€"è·å–"ã€"ä¸‹è½½"ã€"è®¡ç®—"
5. **è¦æ±‚å®æ—¶ä¿¡æ¯**ï¼šä»»åŠ¡å¿…é¡»æ˜ç¡®éœ€è¦è·å–"æœ€æ–°"ã€"å½“å‰"ã€"å®æ—¶"ä¿¡æ¯ï¼Œè€Œéç†è®ºåˆ†æ
6. **å•ä¸€è¾“å‡ºç›®æ ‡**ï¼šæ¯ä¸ªä»»åŠ¡åªèƒ½æœ‰ä¸€ä¸ªæ˜ç¡®çš„ã€å¯éªŒè¯çš„è¾“å‡ºç›®æ ‡
7. **é¿å…æ¦‚å¿µæ€§ä»»åŠ¡**ï¼šä¸è¦ç”Ÿæˆ"è¯·è®¾è®¡"ã€"è¯·åˆ†æ"ç­‰æ¦‚å¿µæ€§ä»»åŠ¡ï¼Œè¦ç”Ÿæˆ"è¯·æœç´¢"ã€"è¯·è®¡ç®—"ç­‰å…·ä½“æ“ä½œä»»åŠ¡
8. **åˆ›é€ æ€§ç­‰çº§â‰¥3æ˜Ÿ**ï¼šç¡®ä¿è¶³å¤Ÿçš„åˆ›æ–°æ€§å’ŒæŒ‘æˆ˜æ€§

**ğŸš¨ åŸå­æ€§æ£€æŸ¥æ¸…å•ï¼š**
- [ ] ä»»åŠ¡æè¿°ä¸­æ˜¯å¦åªåŒ…å«ä¸€ä¸ªåŠ¨ä½œè¯ï¼Ÿ
- [ ] æ˜¯å¦å®Œå…¨é¿å…äº†"å¹¶ä¸”"ã€"ç„¶å"ã€"æ¥ç€"ã€"åŒæ—¶"ã€"ä»¥åŠ"ç­‰è¿æ¥è¯ï¼Ÿ
- [ ] ä»»åŠ¡æ˜¯å¦åªéœ€è¦ä¸€ç§å·¥å…·æ¥å®Œæˆï¼Ÿ
- [ ] ä»»åŠ¡æ˜¯å¦åªæœ‰ä¸€ä¸ªæ˜ç¡®çš„è¾“å‡ºç»“æœï¼Ÿ""",
            description="åŸºäºå…³ç³»é©±åŠ¨çš„åå‘æ¨ç†ç”Ÿæˆåˆ›é€ æ€§åŸå­ä»»åŠ¡",
            prompt_type=PromptType.TASK_GENERATION,
            required_params=["conclusion"],
            optional_params={"max_tasks": 3}
        )
        
        # æ·±åº¦æ‰©å±•æ¨¡æ¿
        templates["generate_depth_extension"] = PromptTemplate(
            name="generate_depth_extension",
            template="""ä½ æ˜¯ä¸€ä¸ªä»»åŠ¡æ‰©å±•ä¸“å®¶ã€‚è¯·å¯¹ä»¥ä¸‹åŸå­ä»»åŠ¡è¿›è¡Œæ·±åº¦æ‰©å±•ï¼Œåˆ›å»ºæ›´å¤æ‚çš„ä»»åŠ¡é“¾ã€‚

åŸå­ä»»åŠ¡ï¼š
é—®é¢˜: {base_question}
ç­”æ¡ˆ: {base_answer}
ç±»å‹: {task_type}
é¢†åŸŸ: {domain}

æ·±åº¦æ‰©å±•ç­–ç•¥ï¼š
1. å¯»æ‰¾è¯¥ä»»åŠ¡çš„"è¶…é›†"åœºæ™¯ï¼ˆåŒ…å«åŸä»»åŠ¡ä½†æ›´å¤æ‚ï¼‰
2. åˆ›å»ºéœ€è¦å¤šæ­¥æ¨ç†çš„ä»»åŠ¡
3. æ·»åŠ å‰ç½®æ¡ä»¶æˆ–ä¸­é—´æ­¥éª¤
4. ä¿æŒé€»è¾‘è¿è´¯æ€§

æ‰©å±•è¦æ±‚ï¼š
- ç”Ÿæˆçš„ä»»åŠ¡åº”è¯¥æ¯”åŸä»»åŠ¡æ›´å¤æ‚
- åŒ…å«åŸä»»åŠ¡çš„æ ¸å¿ƒè¦æ±‚
- éœ€è¦é¢å¤–çš„æ¨ç†æˆ–å·¥å…·è°ƒç”¨
- ç­”æ¡ˆåº”è¯¥ç»¼åˆè€ƒè™‘æ‰€æœ‰æ­¥éª¤

è¯·ä»¥JSONæ ¼å¼è¿”å›ï¼š
{{
    "depth_extended_task": {{
        "combined_question": "æ‰©å±•åçš„å¤åˆé—®é¢˜",
        "combined_answer": "ç»¼åˆç­”æ¡ˆ",
        "superset_input": "è¶…é›†è¾“å…¥æè¿°",
        "intermediate_steps": [
            {{
                "step": 1,
                "description": "ä¸­é—´æ­¥éª¤æè¿°",
                "expected_output": "æ­¥éª¤è¾“å‡º"
            }}
        ],
        "complexity_increase": "å¤æ‚åº¦æå‡è¯´æ˜"
    }}
}}""",
            description="å¯¹åŸå­ä»»åŠ¡è¿›è¡Œæ·±åº¦æ‰©å±•",
            prompt_type=PromptType.TASK_SYNTHESIS,
            required_params=["base_question", "base_answer", "task_type", "domain"]
        )
        
        # å®½åº¦æ‰©å±•æ¨¡æ¿
        templates["generate_width_extension"] = PromptTemplate(
            name="generate_width_extension",
            template="""ä½ æ˜¯ä¸€ä¸ªä»»åŠ¡åˆå¹¶ä¸“å®¶ã€‚è¯·å°†ä»¥ä¸‹å¤šä¸ªç›¸å…³çš„åŸå­ä»»åŠ¡åˆå¹¶æˆä¸€ä¸ªç»¼åˆä»»åŠ¡ã€‚

åŸå­ä»»åŠ¡åˆ—è¡¨ï¼š
{atomic_tasks_list}

å®½åº¦æ‰©å±•ç­–ç•¥ï¼š
1. æ‰¾å‡ºä»»åŠ¡é—´çš„å…³è”æ€§å’Œäº’è¡¥æ€§
2. è®¾è®¡åˆç†çš„ä»»åŠ¡æ‰§è¡Œé¡ºåº
3. ç¡®ä¿ä»»åŠ¡ç»„åˆæœ‰æ„ä¹‰
4. åˆ›å»ºç»Ÿä¸€çš„é—®é¢˜æè¿°

åˆå¹¶è¦æ±‚ï¼š
- ä¿æŒæ‰€æœ‰åŸå­ä»»åŠ¡çš„æ ¸å¿ƒè¦æ±‚
- ä»»åŠ¡é—´åº”æœ‰é€»è¾‘å…³è”
- ç»¼åˆç­”æ¡ˆåº”æ¶µç›–æ‰€æœ‰å­ä»»åŠ¡
- é¿å…ç®€å•çš„ä»»åŠ¡å †å 

è¯·ä»¥JSONæ ¼å¼è¿”å›ï¼š
{{
    "width_extended_task": {{
        "merged_question": "åˆå¹¶åçš„ç»¼åˆé—®é¢˜",
        "merged_answer": "ç»¼åˆç­”æ¡ˆ",
        "task_flow": [
            {{
                "step": 1,
                "original_task_id": "å¯¹åº”çš„åŸå­ä»»åŠ¡ID",
                "description": "åœ¨ç»¼åˆä»»åŠ¡ä¸­çš„è§’è‰²"
            }}
        ],
        "merge_strategy": "åˆå¹¶ç­–ç•¥è¯´æ˜",
        "synergy_explanation": "ä»»åŠ¡ååŒæ•ˆåº”è¯´æ˜"
    }}
}}""",
            description="å°†å¤šä¸ªåŸå­ä»»åŠ¡åˆå¹¶æˆç»¼åˆä»»åŠ¡",
            prompt_type=PromptType.TASK_SYNTHESIS,
            required_params=["atomic_tasks_list"]
        )
        
        # ä»»åŠ¡ä¼˜åŒ–æ¨¡æ¿
        templates["optimize_task"] = PromptTemplate(
            name="optimize_task",
            template="""ä½ æ˜¯ä¸€ä¸ªä»»åŠ¡ä¼˜åŒ–ä¸“å®¶ã€‚è¯·å¯¹ä»¥ä¸‹ä»»åŠ¡è¿›è¡Œä¼˜åŒ–ï¼Œæé«˜å…¶è´¨é‡å’Œå®ç”¨æ€§ã€‚

åŸå§‹ä»»åŠ¡ï¼š
é—®é¢˜: {original_question}
ç­”æ¡ˆ: {original_answer}
ç±»å‹: {task_type}

ä¼˜åŒ–ç›®æ ‡ï¼š
1. æé«˜é—®é¢˜çš„æ¸…æ™°åº¦å’Œå…·ä½“æ€§
2. ç¡®ä¿ç­”æ¡ˆçš„å‡†ç¡®æ€§å’Œå®Œæ•´æ€§
3. ä¼˜åŒ–ä»»åŠ¡çš„æ•™å­¦ä»·å€¼
4. æ”¹å–„ä»»åŠ¡çš„å¯æ‰§è¡Œæ€§

ä¼˜åŒ–è¦æ±‚ï¼š
- ä¿æŒä»»åŠ¡çš„æ ¸å¿ƒç›®æ ‡ä¸å˜
- æé«˜é—®é¢˜æè¿°çš„ç²¾ç¡®æ€§
- ç¡®ä¿ç­”æ¡ˆçš„å¯éªŒè¯æ€§
- å¢å¼ºä»»åŠ¡çš„å®ç”¨ä»·å€¼

è¯·ä»¥JSONæ ¼å¼è¿”å›ï¼š
{{
    "optimized_task": {{
        "improved_question": "ä¼˜åŒ–åçš„é—®é¢˜",
        "improved_answer": "ä¼˜åŒ–åçš„ç­”æ¡ˆ",
        "optimization_notes": "ä¼˜åŒ–è¯´æ˜",
        "quality_score": 0.95,
        "improvements": [
            "æ”¹è¿›ç‚¹1ï¼šå…·ä½“è¯´æ˜",
            "æ”¹è¿›ç‚¹2ï¼šå…·ä½“è¯´æ˜"
        ]
    }}
}}""",
            description="ä¼˜åŒ–ä»»åŠ¡è´¨é‡",
            prompt_type=PromptType.TASK_GENERATION,
            required_params=["original_question", "original_answer", "task_type"]
        )
        
        # åå‘æœç´¢æ¨¡æ¿ï¼ˆæ·±åº¦æ‰©å±•é˜¶æ®µ1ï¼‰
        templates["backward_search"] = PromptTemplate(
            name="backward_search",
            template="""ä½ æ˜¯ä¸€ä¸ªçŸ¥è¯†æ¶æ„å¸ˆå’Œç ”ç©¶ä¸“å®¶ã€‚è¯·é‡‡ç”¨åå‘æ¨ç†çš„æ–¹å¼ï¼Œä¸ºä»¥ä¸‹å·²çŸ¥äº‹å®æ‰¾åˆ°å…¶æ›´å®è§‚çš„èƒŒæ™¯çŸ¥è¯†ã€‚

å·²çŸ¥äº‹å®(A)ï¼š{known_fact}

**ğŸ” åå‘æ¨ç†ä»»åŠ¡ï¼š**
è¯·ä½ æ‰®æ¼”ä¸€ä¸ªç ”ç©¶å‘˜ï¼Œæ€è€ƒä¸€ä¸‹ï¼š
1. è¦çŸ¥é“è¿™ä¸ªäº‹å®'{known_fact}'ï¼Œä½ éœ€è¦å…ˆçŸ¥é“å“ªä¸ªæ›´å®è§‚çš„èƒŒæ™¯çŸ¥è¯†(B)ï¼Ÿ
2. Bå’ŒAä¹‹é—´çš„é€»è¾‘å…³ç³»(R)æ˜¯ä»€ä¹ˆï¼Ÿ
3. ä¸ºä»€ä¹ˆBæ˜¯Açš„å¿…è¦å‰ææˆ–èƒŒæ™¯ä¿¡æ¯ï¼Ÿ

**ğŸ’¡ åå‘æ¨ç†çš„é«˜è´¨é‡ç¤ºä¾‹ï¼š**

ğŸ“Œ ç¤ºä¾‹1ï¼š
- A: "BCAæ–¹æ³•çš„å‚æ•°æ¯”VeRAå°‘14å€"
- B: "ä¸€ç¯‡åä¸º'Block Circulant Adapter for Large Language Models'çš„ç ”ç©¶è®ºæ–‡"
- R: "Bä¸­è¯¦ç»†æè¿°äº†BCAå’ŒVeRAä¸¤ç§æ–¹æ³•çš„å‚æ•°é‡å¯¹æ¯”ç»“æœï¼Œå¹¶ç»™å‡ºäº†Aä¸­æåˆ°çš„å…·ä½“æ•°æ®"

ğŸ“Œ ç¤ºä¾‹2ï¼š
- A: "è‹¹æœå…¬å¸å½“å‰è‚¡ä»·ä¸º150ç¾å…ƒ"
- B: "è‹¹æœå…¬å¸åœ¨çº³æ–¯è¾¾å…‹è‚¡ç¥¨äº¤æ˜“æ‰€çš„å®æ—¶è‚¡ç¥¨è¡Œæƒ…æ•°æ®"
- R: "Bæä¾›äº†è‹¹æœå…¬å¸(AAPL)åœ¨ç‰¹å®šæ—¶é—´ç‚¹çš„å®æ—¶äº¤æ˜“æ•°æ®ï¼ŒåŒ…å«Aä¸­æåˆ°çš„è‚¡ä»·ä¿¡æ¯"

ğŸ“Œ ç¤ºä¾‹3ï¼š
- A: "Transformerä½¿ç”¨è‡ªæ³¨æ„åŠ›æœºåˆ¶"
- B: "Googleå‘è¡¨çš„'Attention Is All You Need'è®ºæ–‡"
- R: "Bæ˜¯é¦–æ¬¡æå‡ºTransformeræ¶æ„çš„ç»å…¸è®ºæ–‡ï¼Œå…¶ä¸­è¯¦ç»†ä»‹ç»äº†Aä¸­æåˆ°çš„è‡ªæ³¨æ„åŠ›æœºåˆ¶çš„å·¥ä½œåŸç†å’Œè®¾è®¡ç»†èŠ‚"

**ğŸ¯ åå‘æ¨ç†è¦æ±‚ï¼š**
1. **å®è§‚æ€§**ï¼šBåº”è¯¥æ¯”Aæ›´å®è§‚ã€æ›´åŸºç¡€ï¼Œæ˜¯çŸ¥é“Açš„å¿…è¦èƒŒæ™¯
2. **é€»è¾‘å¿…ç„¶æ€§**ï¼šä»é€»è¾‘ä¸Šè®²ï¼Œä¸çŸ¥é“Bå°±æ— æ³•å¾—åˆ°A
3. **ä¿¡æ¯æºæ€§**ï¼šBåº”è¯¥æ˜¯Açš„æ•°æ®æ¥æºæˆ–çŸ¥è¯†æ¥æº
4. **å¯æ“ä½œæ€§**ï¼šBåº”è¯¥æ˜¯å¯ä»¥é€šè¿‡å·¥å…·æˆ–æ–¹æ³•è·å–çš„
5. **ç›¸å…³æ€§**ï¼šBå’ŒAåº”è¯¥åœ¨åŒä¸€ä¸ªé¢†åŸŸæˆ–ç¡•å¼ºç›¸å…³çš„é¢†åŸŸ

è¯·ä»¥JSONæ ¼å¼è¿”å›ï¼š
{{
    "backward_search_result": {{
        "background_knowledge": "Bï¼šæ›´å®è§‚çš„èƒŒæ™¯çŸ¥è¯†",
        "logical_relation": "Rï¼šBå’ŒAä¹‹é—´çš„é€»è¾‘å…³ç³»æè¿°",
        "reasoning_path": "Aâ†Râ†B çš„æ¨ç†è·¯å¾„è¯´æ˜",
        "necessity_explanation": "ä¸ºä»€ä¹ˆBæ˜¯Açš„å¿…è¦å‰æ",
        "information_type": "èƒŒæ™¯çŸ¥è¯†çš„ç±»å‹ï¼ˆè®ºæ–‡/æ•°æ®åº“/æ–‡æ¡£/ç³»ç»Ÿç­‰ï¼‰",
        "access_method": "è·å–Bçš„æ–¹æ³•ï¼ˆæœç´¢/æŸ¥è¯¢/è®¿é—®ç­‰ï¼‰",
        "domain_relevance": "é¢†åŸŸç›¸å…³æ€§è¯´æ˜",
        "confidence": 0.95
    }}
}}""",
            description="é€šè¿‡åå‘æ¨ç†æ‰¾åˆ°å·²çŸ¥äº‹å®çš„èƒŒæ™¯çŸ¥è¯†",
            prompt_type=PromptType.TASK_SYNTHESIS,
            required_params=["known_fact"]
        )
        
        # ä»»åŠ¡èåˆæ¨¡æ¿ï¼ˆæ·±åº¦æ‰©å±•é˜¶æ®µ2ï¼‰
        templates["task_fusion"] = PromptTemplate(
            name="task_fusion",
            template="""ä½ æ˜¯ä¸€ä¸ªä»»åŠ¡èåˆæ¶æ„å¸ˆã€‚è¯·å°†ä»¥ä¸‹æœ‰é€»è¾‘ä¾èµ–å…³ç³»çš„ä»»åŠ¡èåˆæˆä¸€ä¸ªè‡ªç„¶è¿è´¯çš„å¤æ‚é—®é¢˜ã€‚

**ä»»åŠ¡ä¿¡æ¯ï¼š**
- èƒŒæ™¯çŸ¥è¯†ä»»åŠ¡(Q1): {background_task}
- æ ¸å¿ƒäº‹å®ä»»åŠ¡(Q2): {core_task}
- é€»è¾‘å…³ç³»(R): {logical_relation}

**ğŸ§  èåˆæŒ‡å¯¼åŸåˆ™ï¼š**
1. **é€»è¾‘è¿è´¯æ€§**ï¼šQ1å’ŒQ2åº”è¯¥åœ¨é€»è¾‘ä¸Šç¯ç¯ç›¸æ‰£ï¼Œä¸å¯åˆ†å‰²
2. **è‡ªç„¶æ€§**ï¼šèåˆåçš„é—®é¢˜åº”è¯¥è¯»èµ·æ¥è‡ªç„¶ï¼Œä¸æ˜¯ç®€å•çš„ä¸¤ä¸ªé—®é¢˜æ‹¼æ¥
3. **å¤æ‚æ€§æå‡**ï¼šèåˆåçš„ä»»åŠ¡åº”è¯¥æ¯”å•ç‹¬çš„Q1æˆ–Q2æ›´å¤æ‚
4. **ç›®æ ‡ç»Ÿä¸€æ€§**ï¼šæ•´ä¸ªé—®é¢˜åº”è¯¥æœ‰ä¸€ä¸ªæ¸…æ™°çš„æœ€ç»ˆç›®æ ‡
5. **å®ç”¨æ€§**ï¼šèåˆåçš„ä»»åŠ¡åº”è¯¥æ¨¡æ‹ŸçœŸå®ä¸–ç•Œçš„é—®é¢˜è§£å†³æµç¨‹

**ğŸ’¡ èåˆç¤ºä¾‹æ¼”ç¤ºï¼š**

ğŸ“Œ ç¤ºä¾‹1ï¼š
- Q1: "è¯·æ‰¾åˆ°åä¸º'Block Circulant Adapter for Large Language Models'çš„è®ºæ–‡"
- Q2: "éªŒè¯BCAæ–¹æ³•çš„å‚æ•°æ¯”VeRAå°‘14å€"
- R: "Q1ä¸­çš„è®ºæ–‡åŒ…å«äº†Q2ä¸­éœ€è¦éªŒè¯çš„å‚æ•°å¯¹æ¯”æ•°æ®"
- èåˆç»“æœ: "è¯·æ‰¾åˆ°åä¸º'Block Circulant Adapter for Large Language Models'çš„è®ºæ–‡ï¼Œå¹¶æ ¹æ®å…¶å†…å®¹ï¼Œå‘Šè¯‰æˆ‘BCAæ–¹æ³•å’ŒVeRAçš„å‚æ•°é‡å¯¹æ¯”ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ"

ğŸ“Œ ç¤ºä¾‹2ï¼š
- Q1: "è·å–è‹¹æœå…¬å¸åœ¨çº³æ–¯è¾¾å…‹çš„å®æ—¶è‚¡ç¥¨è¡Œæƒ…æ•°æ®"
- Q2: "åˆ†æè‹¹æœå…¬å¸å½“å‰è‚¡ä»·æ˜¯å¦è¾¾åˆ°150ç¾å…ƒ"
- R: "Q1æä¾›çš„å®æ—¶æ•°æ®æ˜¯Q2ä¸­è‚¡ä»·åˆ†æçš„æ•°æ®åŸºç¡€"
- èåˆç»“æœ: "è¯·æŸ¥è¯¢è‹¹æœå…¬å¸(AAPL)åœ¨çº³æ–¯è¾¾å…‹çš„å®æ—¶è‚¡ä»·ï¼Œå¹¶åˆ†æå…¶å½“å‰çš„äº¤æ˜“ä»·æ ¼æ˜¯å¦è¾¾åˆ°æˆ–è¶…è¿‡150ç¾å…ƒã€‚"

ğŸ“Œ ç¤ºä¾‹3ï¼š
- Q1: "æŸ¥æ‰¾'Attention Is All You Need'è®ºæ–‡çš„å…·ä½“å†…å®¹"
- Q2: "åˆ†æTransformeræ¶æ„ä¸­è‡ªæ³¨æ„åŠ›æœºåˆ¶çš„å·¥ä½œåŸç†"
- R: "Q1ä¸­çš„è®ºæ–‡æ˜¯Q2ä¸­è‡ªæ³¨æ„åŠ›æœºåˆ¶çš„åŸå§‹æŠ€æœ¯æ–‡æ¡£å’Œç†è®ºåŸºç¡€"
- èåˆç»“æœ: "è¯·ä»'Attention Is All You Need'è®ºæ–‡ä¸­æå–å…³äºè‡ªæ³¨æ„åŠ›æœºåˆ¶çš„æ ¸å¿ƒæ¦‚å¿µï¼Œå¹¶æ ¹æ®è®ºæ–‡å†…å®¹è¯¦ç»†è§£é‡ŠTransformeræ¶æ„ä¸­è‡ªæ³¨æ„åŠ›æœºåˆ¶çš„å…·ä½“å·¥ä½œåŸç†ã€‚"

**ğŸ¯ èåˆè¦æ±‚ï¼š**
1. **å¿…é¡»ä¿æŒä¾èµ–å…³ç³»**ï¼šèåˆåçš„ä»»åŠ¡å¿…é¡»ä½“ç°Q1â†’Q2çš„é€»è¾‘ä¾èµ–
2. **é¿å…ç®€å•æ‹¼æ¥**ï¼šä¸æ˜¯â€œè¯·åšä¸€ï¼Œç„¶ååšäºŒâ€ï¼Œè€Œæ˜¯èåˆæˆä¸€ä¸ªæœ‰æœºæ•´ä½“
3. **ç›®æ ‡å¯¼å‘**ï¼šæœ€ç»ˆé—®é¢˜åº”è¯¥ä»¥Q2çš„ç›®æ ‡ä¸ºä¸»ï¼ŒQ1ä¸ºæ‰‹æ®µ
4. **å¯æ‰§è¡Œæ€§**ï¼šèåˆåçš„ä»»åŠ¡åº”è¯¥å¯ä»¥è¢«Agentæ‰§è¡Œ
5. **å¤æ‚åº¦é€‚ä¸­**ï¼šä¸è¦è¿‡äºå¤æ‚ï¼Œä½†ä¹Ÿä¸èƒ½è¿‡äºç®€å•

è¯·ä»¥JSONæ ¼å¼è¿”å›ï¼š
{{
    "task_fusion_result": {{
        "fused_question": "èåˆåçš„ç»Ÿä¸€é—®é¢˜",
        "fused_answer": "é¢„æœŸçš„ç»¼åˆç­”æ¡ˆ",
        "logical_flow": "é€»è¾‘æµç¨‹æè¿°",
        "dependency_explanation": "Q1å¦‚ä½•æ”¯æ’‘Q2çš„è¯´æ˜",
        "complexity_analysis": "å¤æ‚åº¦åˆ†æå’Œæå‡è¯´æ˜",
        "execution_steps": [
            {{
                "step": 1,
                "description": "æ‰§è¡Œæ­¥éª¤æè¿°",
                "purpose": "è¯¥æ­¥éª¤çš„ä½œç”¨",
                "output": "é¢„æœŸè¾“å‡º"
            }}
        ],
        "fusion_quality": "èåˆè´¨é‡è¯„ä¼°(1-5)",
        "practical_value": "å®ç”¨ä»·å€¼è¯´æ˜"
    }}
}}""",
            description="å°†æœ‰é€»è¾‘ä¾èµ–å…³ç³»çš„ä»»åŠ¡èåˆæˆè¿è´¯çš„å¤æ‚é—®é¢˜",
            prompt_type=PromptType.TASK_SYNTHESIS,
            required_params=["background_task", "core_task", "logical_relation"]
        )
        
        # ä¸»é¢˜æ„ŸçŸ¥åˆå¹¶æ¨¡æ¿ï¼ˆå®½åº¦æ‰©å±•ï¼‰
        templates["theme_aware_fusion"] = PromptTemplate(
            name="theme_aware_fusion",
            template="""ä½ æ˜¯ä¸€ä¸ªä¸»é¢˜èåˆä¸“å®¶ã€‚è¯·å°†ä»¥ä¸‹å¤šä¸ªä¸»é¢˜é«˜åº¦ç›¸å…³çš„ä»»åŠ¡èåˆæˆä¸€ä¸ªå•ä¸€çš„ã€æ›´é«˜å±‚æ¬¡çš„ç»¼åˆæ€§é—®é¢˜ã€‚

ä¸»é¢˜ç›¸å…³ä»»åŠ¡ï¼š
{related_tasks}

**ğŸ¯ ä¸»é¢˜èåˆç›®æ ‡ï¼šä»â€œç½—åˆ—â€å‡çº§ä¸ºâ€œç»¼åˆâ€**

è¾“å…¥ä»»åŠ¡ä¸»é¢˜åˆ†æï¼š{theme_analysis}

**ğŸ§  æ™ºèƒ½èåˆç­–ç•¥ï¼š**
1. **ä¸»é¢˜æå–**ï¼šè¯†åˆ«æ‰€æœ‰ä»»åŠ¡çš„å…±åŒä¸»é¢˜å’Œå…³æ³¨ç‚¹
2. **å¯¹æ¯”åˆ†æ**ï¼šè®¾è®¡ä¸€ä¸ªéœ€è¦å¯¹æ¯”ã€åˆ†æå¤šä¸ªæ–¹é¢çš„é«˜å±‚æ¬¡é—®é¢˜
3. **ç»¼åˆåˆ¤æ–­**ï¼šç”Ÿæˆéœ€è¦ç»¼åˆå¤šä¸ªä»»åŠ¡ç»“æœæ‰èƒ½å¾—å‡ºç»“è®ºçš„é—®é¢˜
4. **æ·±åº¦æ´å¯Ÿ**ï¼šè®¾è®¡éœ€è¦æ·±åº¦ç†è§£å’Œæ´å¯Ÿçš„é—®é¢˜

**ğŸ’¡ èåˆç¤ºä¾‹æ¼”ç¤ºï¼š**

ğŸ“Œ ç¤ºä¾‹1ï¼š
- è¾“å…¥ä»»åŠ¡: [T1='åˆ†æPandasç‰¹ç‚¹', T2='åˆ†æNumPyç‰¹ç‚¹']
- ä¸»é¢˜: "Pythonæ•°æ®å¤„ç†åº“"
- èåˆç»“æœ: "è¯·å¯¹æ¯”åˆ†æPythonä¸­Pandaså’ŒNumPyè¿™ä¸¤ä¸ªæ•°æ®å¤„ç†åº“çš„æ ¸å¿ƒç‰¹ç‚¹ã€åº”ç”¨åœºæ™¯å’Œæ€§èƒ½å·®å¼‚ï¼Œå¹¶æ¨èåœ¨ä¸åŒæƒ…å†µä¸‹çš„æœ€ä½³é€‰æ‹©ã€‚"

ğŸ“Œ ç¤ºä¾‹2ï¼š
- è¾“å…¥ä»»åŠ¡: [T1='åˆ†æGPT-4æ€§èƒ½', T2='åˆ†æClaude-3æ€§èƒ½', T3='åˆ†æGeminiæ€§èƒ½']
- ä¸»é¢˜: "å¤§è¯­è¨€æ¨¡å‹æ€§èƒ½è¯„ä¼°"
- èåˆç»“æœ: "è¯·ç»¼åˆè¯„ä¼°GPT-4ã€Claude-3å’ŒGeminiä¸‰ä¸ªä¸»æµå¤§è¯­è¨€æ¨¡å‹åœ¨æ¨ç†èƒ½åŠ›ã€ä»£ç ç”Ÿæˆã€çŸ¥è¯†é—®ç­”å’Œåˆ›æ„å†™ä½œç­‰æ–¹é¢çš„æ€§èƒ½è¡¨ç°ï¼Œå¹¶ç»™å‡ºåœ¨ä¸åŒä½¿ç”¨åœºæ™¯ä¸‹çš„é€‰æ‹©å»ºè®®ã€‚"

ğŸ“Œ ç¤ºä¾‹3ï¼š
- è¾“å…¥ä»»åŠ¡: [T1='åˆ†æè‹¹æœå…¬å¸è´¢åŠ¡', T2='åˆ†æè°·æ­Œå…¬å¸è´¢åŠ¡', T3='åˆ†æå¾®è½¯å…¬å¸è´¢åŠ¡']
- ä¸»é¢˜: "ç§‘æŠ€å·¨å¤´è´¢åŠ¡å¯¹æ¯”"
- èåˆç»“æœ: "è¯·æ·±åº¦å¯¹æ¯”è‹¹æœã€è°·æ­Œå’Œå¾®è½¯ä¸‰å®¶ç§‘æŠ€å·¨å¤´çš„è´¢åŠ¡çŠ¶å†µï¼Œåˆ†æå…¶åœ¨æ”¶å…¥ç»“æ„ã€ç›ˆåˆ©èƒ½åŠ›ã€ç°é‡‘æµå’ŒæŠ•èµ„å›æŠ¥ç­‰æ–¹é¢çš„å·®å¼‚ï¼Œå¹¶é¢„æµ‹å…¶æœªæ¥å‘å±•è¶‹åŠ¿ã€‚"

**ğŸ¯ èåˆè¦æ±‚ï¼š**
1. **ä¸æ˜¯ç®€å•ç½—åˆ—**ï¼šä¸èƒ½æ˜¯â€œè¯·åšä¸€ï¼Œå¹¶åšäºŒâ€çš„æ ¼å¼
2. **éœ€è¦ç»¼åˆåˆ†æ**ï¼šå¿…é¡»é€šè¿‡å¯¹æ¯”ã€ç»¼åˆåˆ†ææ‰èƒ½å¾—å‡ºç»“è®º
3. **é«˜å±‚æ¬¡ç»“è®º**ï¼šç”Ÿæˆçš„é—®é¢˜åº”è¯¥å¯¼å‘æ›´é«˜å±‚æ¬¡çš„æ´å¯Ÿå’Œç»“è®º
4. **å®ç”¨ä»·å€¼**ï¼šèåˆåçš„é—®é¢˜åº”è¯¥æœ‰æ˜ç¡®çš„å®ç”¨ä»·å€¼
5. **é€‚ä¸­å¤æ‚åº¦**ï¼šæ—¢ä¸è¿‡äºç®€å•ï¼Œä¹Ÿä¸è¿‡äºå¤æ‚

è¯·ä»¥JSONæ ¼å¼è¿”å›ï¼š
{{
    "theme_fusion_result": {{
        "fused_question": "èåˆåçš„ç»¼åˆé—®é¢˜",
        "fused_answer": "é¢„æœŸçš„ç»¼åˆç­”æ¡ˆç±»å‹",
        "common_theme": "å…±åŒä¸»é¢˜æè¿°",
        "comparison_aspects": ["å¯¹æ¯”ç»´åº¦1", "å¯¹æ¯”ç»´åº¦2"],
        "synthesis_requirement": "éœ€è¦ç»¼åˆåˆ†æçš„æ–¹é¢",
        "higher_level_insight": "é¢„æœŸçš„é«˜å±‚æ¬¡æ´å¯Ÿ",
        "practical_application": "å®é™…åº”ç”¨ä»·å€¼",
        "execution_approach": "æ‰§è¡Œæ–¹æ³•å»ºè®®",
        "fusion_quality": "1-5",
        "complexity_level": "å¤æ‚åº¦ç­‰çº§è¯„ä¼°"
    }}
}}""",
            description="å°†ä¸»é¢˜ç›¸å…³çš„å¤šä¸ªä»»åŠ¡èåˆæˆé«˜å±‚æ¬¡çš„ç»¼åˆæ€§é—®é¢˜",
            prompt_type=PromptType.TASK_SYNTHESIS,
            required_params=["related_tasks", "theme_analysis"]
        )
        
        return templates
    
    def get_templates(self) -> Dict[str, PromptTemplate]:
        """è¿”å›æ‰€æœ‰æ¨¡æ¿"""
        return self._templates
    
    def get_module_info(self) -> Dict[str, Any]:
        """è¿”å›æ¨¡å—ä¿¡æ¯"""
        return {
            "name": "TaskGenerationPrompts",
            "description": "ä»»åŠ¡ç”Ÿæˆç›¸å…³çš„ Prompt æ¨¡æ¿é›†åˆ",
            "version": "1.0",
            "template_count": len(self._templates),
            "categories": [
                "æ·±åº¦ç»“è®ºæå–ï¼ˆå…³ç³»é©±åŠ¨ï¼‰",
                "å…³ç³»é©±åŠ¨çš„åŸå­ä»»åŠ¡ç”Ÿæˆ", 
                "æ·±åº¦æ‰©å±•ï¼ˆåŸå§‹ï¼‰",
                "å®½åº¦æ‰©å±•ï¼ˆåŸå§‹ï¼‰",
                "ä»»åŠ¡ä¼˜åŒ–",
                "åå‘æœç´¢ï¼ˆTaskCraftç®—æ³•ï¼‰",
                "ä»»åŠ¡èåˆï¼ˆTaskCraftç®—æ³•ï¼‰",
                "ä¸»é¢˜æ„ŸçŸ¥åˆå¹¶ï¼ˆTaskCraftç®—æ³•ï¼‰"
            ]
        }